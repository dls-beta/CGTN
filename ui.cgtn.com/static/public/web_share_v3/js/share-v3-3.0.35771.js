!function(){function e(t,i,n){function a(s,r){if(!i[s]){if(!t[s]){var c="function"==typeof require&&require;if(!r&&c)return c(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var l=i[s]={exports:{}};t[s][0].call(l.exports,function(e){return a(t[s][1][e]||e)},l,l.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}return e}()({1:[function(e,t,i){function n(e){e=e||{},this.container=e.container,this.isCarousel=void 0===typeof e.container||e.container,this.first=e.first,this.end=e.end||!0,this.eventType=e.eventType||"hover",this.isCelsius=!0,this.defaultCity="",this.domain=$("#pageAjaxDomain").val(),this.basePath=c(),this.wtData=e.resWT.wtData,this.currentWTData=e.resWT.currentWTData,this.swiper=null,this.TEMP_LOCAL_STORAGE_NAME="TEMP_LOCAL_STORAGE",this.TEMP_LOCAL_STORAGE_VALUE=o(this.TEMP_LOCAL_STORAGE_NAME)||"C",this.AREA_LOCAL_STORAGE_NAME="AREA_LOCAL_STORAGE_NAME",this.AREA_LOCAL_STORAGE_VALUE=o(this.AREA_LOCAL_STORAGE_NAME)||"",this.ROOT_WT_CLASS=".J_cg2020_common_",this.CLASS_LIST={SWIPER_CONTAINER_CLASS:".wt-header-content",WT_MODAL_CLASS:".wt-modal",LOCATION_CLASS:".wt-location",SELECT_MODAL_CLASS:".wt-select-modal",SELECT_CLICK_CLASS:".wt-select-list",SEARCH_INPUT_CLASS:".wt-select-search-input",SEARCH_ICON_CLASS:".wt-select-search-icon",TEMP_TOGGLE_CLASS:".wt-temp",TEMP_TOGGLE_ACTIVE_CLASSNAME:"wt-temp-active",HEADER_WT_SLIDE_CLASS:".wt-header-content .swiper-slide",HEADER_TEMP_TEXT_CLASS:".wt-header-temp",MODAL_TITLE_CLASS:".wt-location-content",MODAL_WIND_ICON_CLASS:".wt-detail-item-icon",MODAL_TEMP_TEXT_CLASS:".wt-detail-item-temp",MODAL_WIND_TEXT_CLASS:".wt-detail-item-wind",MODAL_SPEED_ICON_CLASS:".wt-icon-speed",MODAL_SPEED_TEXT_CLASS:".wt-detail-item-speed",MODAL_HOURS_CLASS:".wt-copyright-hours",SELECT_SPIN_CLASS:".wt-select-spin-spinning"};for(var t in this.CLASS_LIST)this[t]=this.container+" "+this.ROOT_WT_CLASS+" "+this.CLASS_LIST[t];this.init()}function a(e,t){window.localStorage.setItem(e,t)}function o(e){var t=window.localStorage.getItem(e);return void 0===t||"undefined"===t?"":t}function s(e){if(!e)return 0;var t=(new Date).getTime(),i=t-e,n=i%864e5;return Math.floor(n/36e5)}function r(e,t){var i=null;return function(){i&&clearTimeout(i);var n=this,a=arguments;i=setTimeout(function(){e.apply(n,a)},t)}}function c(){var e=$(".bar-logo").eq(0).css("backgroundImage"),t=e.match(/http.*images/);return t&&t[0]||""}var d={start:function(){new h}},l=function(){var e=this;this.domain=$("#pageAjaxDomain").val(),this.basePath=c(),$.ajax({url:e.domain+"/api//areaList",method:"get",contentType:"application/json",dataType:"json",data:{key:""},success:function(e){if(200===e.status&&e.data){var t=e.data,i="";t.forEach(function(e){i+='<li class="wt-select-item-option" data-key="'+e.areaId+'"> <div class="wt-select-content-1">'+e.areaName+'</div><div class="wt-select-content-2">'+e.countryName+"</div></li>"}),console.log("getAreaList",$(".wt-select-list")),$(".wt-select-list").html(i)}},error:function(e){console.log("error",e)}})},p=null,h=function(){var e=$("#pageAjaxDomain").val(),t=o("AREA_LOCAL_STORAGE_NAME")||"",i=t||"default",a=[],s=null;$.ajax({url:e+"/api//"+i+"/getData",method:"get",contentType:"application/json",dataType:"json",success:function(e){if(200===e.status&&e.data){t?(a=[e.data],s=e.data):(a=e.data,s=e.data[0]),"undefined"!=typeof Swiper||t||(a=[e.data[0]]);var i={wtData:a,currentWTData:s};p=setInterval(new l,1e3),new n({container:".header-v3-content-pc",isCarousel:!0,end:!0,resWT:i}),new n({container:".header-v3-content-ipad",isCarousel:!0,end:!0,eventType:"click",resWT:i}),new n({container:".header-v3-content-",isCarousel:!0,end:!0,eventType:"click",resWT:i})}},error:function(e){console.log("error",e)}})};n.prototype.init=function(){var e=this.getProfileTemplat(),t=this.getModalTemplate(),i=this.compositionHtml(e,t);$(this.container).append(i),this.verificationStyle()&&(this.swiper=this.initSwiper(),this.bindHeaderHover(),this.bindLocationClick(),this.bindTempChange(),this.bindSelectSearch(),this.bindSelctClick(),clearInterval(p))},n.prototype.verificationStyle=function(){return"none"!==$(this.ROOT_WT_CLASS).css("float")||($(this.ROOT_WT_CLASS).hide(),!1)},n.prototype.requestWT=function(e,t,i){var n=this,a=e||"default";$.ajax({url:this.domain+"/api//"+a+"/getData",method:"get",contentType:"application/json",dataType:"json",success:function(a){200===a.status&&a.data?(e?(n.wtData=[a.data],n.currentWTData=a.data):(n.wtData=a.data,n.currentWTData=a.data[0]),"undefined"!=typeof Swiper||e||(n.wtData=[a.data[0]]),"function"==typeof t&&t(n.currentWTData)):"function"==typeof i&&i()},error:function(e){console.log("error",e),"function"==typeof i&&i()}})},n.prototype.requestAreaList=function(e,t){$.ajax({url:this.domain+"/api//areaList",method:"get",contentType:"application/json",dataType:"json",data:{key:e||""},success:function(e){200===e.status&&e.data?"function"==typeof t&&t(e.data):"function"==typeof t&&t()},error:function(e){console.log("error",e),"function"==typeof t&&t()}})},n.prototype.compositionHtml=function(e,t){return' <div class="cg2020_common_ J_cg2020_common_">'+e+' <div class="wt-vertical-line"></div>'+t+"</div>"},n.prototype.getProfileTemplat=function(){var e=this,t="";return this.wtData.forEach(function(i){var n=i.areaDayDataList[0];t+=e.getSwiperSlideTemplat(n)}),'<div class="wt-header-content"><div class="swiper-wrapper">'+t+"</div></div>"},n.prototype.getSwiperSlideTemplat=function(e){var t=this.TEMP_LOCAL_STORAGE_VALUE,i="C"===t?e.highTempC:e.highTempF,n="C"===t?e.lowTempC:e.lowTempF;return'<div  class="swiper-slide" data-key="'+e.areaId+'" ><div class="wt-header-city">'+e.areaName+'</div><div class="wt-header-day"><img src="'+this.basePath+"//day/"+e.dayCode+'.png" title="'+e.dayName+'" class="wt-header-icon"><span class="wt-header-temp">'+i+'</span></div><div class="wt-header-night"><img src="'+this.basePath+"//night/"+e.nightCode+'.png" title="'+e.nightName+'" class="wt-header-icon"><span class="wt-header-temp">'+n+"</span></div></div >"},n.prototype.getModalTemplate=function(){var e=1===this.wtData.length?this.wtData[0]||[]:this.wtData[0],t=e.areaDayDataList[0]||{},i=this.TEMP_LOCAL_STORAGE_VALUE,n="C"===i?t.highTempC:t.highTempF,a="C"===i?t.lowTempC:t.lowTempF,o=s(t.updateTimeStr),r=o?"Updated "+o+" hour"+(o>1?"s":"")+" ago":"Updated just now";return'<div class="wt-modal" data-key='+t.areaId+'><div class="wt-location"><div class="wt-location-content" title="'+t.areaName+'">'+t.areaName+'</div><div class="wt-location-icon"></div></div><div class="wt-temp-type"><span class="wt-temp '+("C"===i?"wt-temp-active":"")+'" data-type="C">&#176;C</span><span class="wt-temp '+("F"===i?"wt-temp-active":"")+'" data-type="F">&#176;F</span></div><div class="wt-detail"><div class="wt-detail-item wt-border-right"><div class="wt-detail-item-title">Day</div><img src="'+this.basePath+"//day/"+t.dayCode+'.png" title="'+t.dayName+'" class="wt-detail-item-icon"><div class="wt-detail-item-temp">'+n+'</div><div class="wt-detail-item-wind">Wind</div><div class="wt-detail-item-wind-speed"><img src="'+this.basePath+"//"+t.dayWindDirectionCode+'.png" class="wt-icon-speed"><div class="wt-detail-item-speed"><span>'+t.dayWindDirectionName+"</span><span>"+t.dayWindPowerName+'</span></div></div></div><div class="wt-detail-item"><div class="wt-detail-item-title">Night</div><img src="'+this.basePath+"//night/"+t.nightCode+'.png" title="'+t.nightName+'" class="wt-detail-item-icon"><div class="wt-detail-item-temp">'+a+'</div><div class="wt-detail-item-wind">Wind</div><div class="wt-detail-item-wind-speed"><img src="'+this.basePath+"//"+t.nightWindDirectionCode+'.png" class="wt-icon-speed"><div class="wt-detail-item-speed"><span>'+t.nightWindDirectionName+"</span><span>"+t.nightWindPowerName+'</span></div></div></div></div><div class="wt-copyright"><p class="wt-copyright-hours">'+r+"</p><p>Source: "+t.sourceBy+"</p></div>"+this.getSlectTemplate()+"</div>"},n.prototype.getSlectTemplate=function(){return' <div class="wt-select-modal"><div class="wt-select-inner"><div class="wt-select-title">Select the location</div><div class="wt-select-search"><div class="wt-select-search-icon"></div><input type="text"  class="wt-select-search-input" placeholder="INPUT CITY NAME" /></div><div class="wt-select-spin"><div class="wt-select-spin-spinning"><div class="wt-spin-container"></div></div><ul class="wt-select-list"></ul></div></div></div>'},n.prototype.getSlectItemTemplate=function(e){var t="";return e.forEach(function(e){t+='<li class="wt-select-item-option" data-key="'+e.areaId+'"> <div class="wt-select-content-1">'+e.areaName+'</div><div class="wt-select-content-2">'+e.countryName+"</div></li>"}),t},n.prototype.initSwiper=function(){if(this.isCarousel&&"undefined"!=typeof Swiper){var e=this,t=this.wtData&&this.wtData.length>1;return new Swiper(this.SWIPER_CONTAINER_CLASS,{direction:"vertical",loop:t,autoplay:!!t&&{delay:3e3,disableOnInteraction:!0},on:{init:function(){e.AREA_LOCAL_STORAGE_VALUE||e.hoverStop()},transitionEnd:function(){if(e.swiper){var t=$(e.swiper.slides[e.swiper.activeIndex]).data("key"),i=e.wtData.find(function(e){return e.areaDayDataList[0].areaId==t});i&&(e.currentWTData=i),e.updateModalInfo(e.currentWTData.areaDayDataList[0])}}}})}},n.prototype.hoverStop=function(){var e=this;$(this.SWIPER_CONTAINER_CLASS).hover(function(){e.swiper&&e.isCarousel&&e.swiper.autoplay.stop()},function(){e.swiper&&e.isCarousel&&e.swiper.autoplay.start()}),$(this.WT_MODAL_CLASS).hover(function(t){e.swiper&&e.isCarousel&&e.swiper.autoplay.stop()},function(){e.swiper&&e.isCarousel&&e.swiper.autoplay.start()})},n.prototype.bindHeaderHover=function(){var e=this;if("click"===this.eventType?$(this.SWIPER_CONTAINER_CLASS+" .swiper-wrapper").on("click",function(t){$(e.SELECT_MODAL_CLASS).hide(),$(e.WT_MODAL_CLASS).toggle(),t.stopPropagation()}):($(this.SWIPER_CONTAINER_CLASS+" .swiper-wrapper").hover(function(t){$(e.SELECT_MODAL_CLASS).hide(),$(e.WT_MODAL_CLASS).show()},function(){$(e.SELECT_MODAL_CLASS).hide(),$(e.WT_MODAL_CLASS).hide()}),$(this.WT_MODAL_CLASS).hover(function(e){$(this).show()},function(){$(this).hide()})),"click"===e.eventType){var t=0;$(window).bind("scroll",function(i){var n=$(window).scrollTop();n>t&&$(e.WT_MODAL_CLASS).hide(),t=n})}},n.prototype.unBindHeaderHover=function(){"click"===this.eventType?$(this.SWIPER_CONTAINER_CLASS+" .swiper-wrapper").unbind("click"):($(this.SWIPER_CONTAINER_CLASS+" .swiper-wrapper").unbind("mouseenter").unbind("mouseleave"),$(this.WT_MODAL_CLASS).unbind("mouseenter").unbind("mouseleave"))},n.prototype.bindLocationClick=function(){var e=this;$(this.WT_MODAL_CLASS).on("click",function(e){e.stopPropagation()}),"click"===this.eventType?($(e.LOCATION_CLASS).on("click",function(t){$(e.SELECT_MODAL_CLASS).show(),t.stopPropagation()}),$(document).click(function(t){$(e.WT_MODAL_CLASS).hide(),$(e.SELECT_MODAL_CLASS).hide()})):($(e.LOCATION_CLASS).on("click",function(t){$(e.SELECT_MODAL_CLASS).show(),$(e.SEARCH_INPUT_CLASS).focus(),t.stopPropagation()}),$(document).click(function(t){$(e.WT_MODAL_CLASS).hide(),$(e.SELECT_MODAL_CLASS).hide()}))},n.prototype.bindTempChange=function(){var e=this;$(e.TEMP_TOGGLE_CLASS).on("click",function(){$(e.TEMP_TOGGLE_CLASS).removeClass(e.TEMP_TOGGLE_ACTIVE_CLASSNAME),$(this).addClass(e.TEMP_TOGGLE_ACTIVE_CLASSNAME);var t=$(this).data("type");e.changeCurrentTemp(t),e.TEMP_LOCAL_STORAGE_VALUE=t,a(e.TEMP_LOCAL_STORAGE_NAME,t)})},n.prototype.changeCurrentTemp=function(e){var t=this,i="",n="";$(this.HEADER_WT_SLIDE_CLASS).map(function(){var a=$(this).data("key"),o=t.wtData.find(function(e){return e.areaDayDataList[0].areaId==a});o||(o=t.currentWTData);var s=o.areaDayDataList[0];"C"===e?(i=s.highTempC,n=s.lowTempC):(i=s.highTempF,n=s.lowTempF);var r=$(this).find(t.CLASS_LIST.HEADER_TEMP_TEXT_CLASS);$(r[0]).text(i),$(r[1]).text(n)});var a=$(t.WT_MODAL_CLASS).find(t.CLASS_LIST.MODAL_TEMP_TEXT_CLASS),o=t.currentWTData.areaDayDataList[0];"C"===e?($(a[0]).text(o.highTempC),$(a[1]).text(o.lowTempC)):($(a[0]).text(o.highTempF),$(a[1]).text(o.lowTempF))},n.prototype.bindSelectSearch=function(){var e=this,t=r(function(t){e.onSearch(t)},500);$(this.SEARCH_ICON_CLASS).on("click",function(){t($(e.SEARCH_INPUT_CLASS).val())}),$(this.SEARCH_INPUT_CLASS).bind("input propertychange",function(){var e=$(this).val();t(e)})},n.prototype.bindSelctClick=function(){var e=this;$(this.SELECT_CLICK_CLASS).on("click",function(t){var i=$(t.target).data("key");i||(i=$(t.target).parent().data("key")),i&&"undefined"!==i&&($(e.SELECT_SPIN_CLASS).show(),e.updateWTInfo(i,function(){a(e.AREA_LOCAL_STORAGE_NAME,i),$(e.SELECT_MODAL_CLASS).hide(),$(e.SELECT_SPIN_CLASS).hide()}))})},n.prototype.updateWTInfo=function(e,t){var i=this;this.swiper&&this.swiper.autoplay.stop(),this.requestWT(e,function(e){var n=e.areaDayDataList[0];i.isCarousel=!1,i.swiper?(i.swiper.removeAllSlides(),i.swiper.addSlide(0,i.getSwiperSlideTemplat(n))):$(i.SWIPER_CONTAINER_CLASS+" .swiper-wrapper").html(i.getSwiperSlideTemplat(n)),i.updateModalInfo(n),"function"==typeof t&&t()},function(){$(i.SELECT_SPIN_CLASS).hide()})},n.prototype.updateModalInfo=function(e){$(this.MODAL_TITLE_CLASS).text(e.areaName),$(this.MODAL_TITLE_CLASS).attr({title:e.areaName}),$(this.MODAL_WIND_ICON_CLASS).eq(0).attr({src:this.basePath+"//day/"+e.dayCode+".png",title:e.dayName}),$(this.MODAL_WIND_ICON_CLASS).eq(1).attr({src:this.basePath+"//night/"+e.nightCode+".png",title:e.nightName});var t=this.TEMP_LOCAL_STORAGE_VALUE,i="C"===t?e.highTempC:e.highTempF,n="C"===t?e.lowTempC:e.lowTempF;$(this.MODAL_TEMP_TEXT_CLASS).eq(0).text(i),$(this.MODAL_TEMP_TEXT_CLASS).eq(1).text(n),$(this.MODAL_SPEED_ICON_CLASS).eq(0).attr("src",this.basePath+"//"+e.dayWindDirectionCode+".png"),$(this.MODAL_SPEED_ICON_CLASS).eq(1).attr("src",this.basePath+"//"+e.nightWindDirectionCode+".png");var a=$(this.MODAL_SPEED_TEXT_CLASS).eq(0),o=$(this.MODAL_SPEED_TEXT_CLASS).eq(1);a.children().eq(0).text(e.dayWindDirectionName),a.children().eq(1).text(e.dayWindPowerName),o.children().eq(0).text(e.nightWindDirectionName),o.children().eq(1).text(e.nightWindPowerName);var r=s(e.updateTimeStr),c=r?"Updated "+r+" hour"+(r>1?"s":"")+" ago":"Updated just now";$(this.MODAL_HOURS_CLASS).text(c),$(this.WT_MODAL_CLASS).data("key",e.areaId)},n.prototype.onSearch=function(e){var t=this;$(t.SELECT_SPIN_CLASS).show(),this.requestAreaList(e,function(e){if(e){var i=t.getSlectItemTemplate(e);i||(i='<img src="'+t.basePath+'//nodata.png" class="wt-icon-nodata">'),$(t.SELECT_CLICK_CLASS).html(i)}$(t.SELECT_SPIN_CLASS).hide()})},t.exports=d},{}],2:[function(e,t,i){var n={run:function(){function e(){var e=window.location.href;window.location.href=l+"?redirectToUrl="+e}function t(){var e=a();if(!e)return!1;var t=n();return!(!e||!t)}function i(e){var t=a();e.setRequestHeader("Authorization","Bearer "+t)}function n(){var e=c+"/service/api/v1/user",t=!1;return $.ajax({url:e,method:"get",contentType:"application/json",dataType:"json",beforeSend:i,async:!1,data:{flag:(new Date).getTime().toString(36)},success:function(e){console.log("static-page-login",e),l=e.login_url,t=!0},error:function(e){}}),t}function a(){var e,t=new RegExp("(^| )access_token=([^;]*)(;|$)");return(e=document.cookie.match(t))?unescape(e[2]):""}function o(){var e=a();e&&$.ajax({url:p,method:"post",data:JSON.stringify({access_token:e}),contentType:"application/json",dataType:"json",async:!0,cache:!1,success:function(e){200==e.code&&(1==e.data?$(".J_msg").addClass("active"):$(".J_msg").removeClass("active")),msgTimeId=setTimeout(o,1e4)},error:function(e){msgTimeId=setTimeout(o,1e4)}})}function s(e){for(var t=document.cookie.split("; "),i=0;i<t.length;i++){var n=t[i].split("=");if(n[0]==e)return n[1]}return null}function r(e){var t=new Date;t.setDate(t.getDate()-1);var i=e+"=1 ;path=/; domain=.cgtn.com ;expires="+t.toUTCString();document.cookie=i}var c,d,l,p,h,u=$(".J_login_warp").attr("data-domain"),g=s("passport_host"),v=s("account_host");g||v?(c=g,d=v,l=g+"/#/login",p=d+"/userInfo/getNotify",h=d+"/user/exit?redirectToUrl="):(c="https://passport.user.cgtn.com",d="https://account.user.cgtn.com",l="https://passport.user.cgtn.com/#/login",u&&(u.indexOf("stage")>-1||u.indexOf("dtest")>-1||u.indexOf("localhost")>-1)&&(c="https://test-passport.user.cgtn.com",d="https://test-account.user.cgtn.com",l="https://test-passport.user.cgtn.com/#/login"),p=d+"/userInfo/getNotify",h=d+"/user/exit?redirectToUrl="),function(){t()?($(".J_login").addClass("active"),$(".J_login_m").length>0&&$(".J_login_m").addClass("active"),$(".js-tools-dialog").hide()):($(".J_login").removeClass("active"),$(".J_login_m").length>0&&$(".J_login_m").removeClass("active"))}(),o(),$(".J_msg").on("click",function(i){var n=$(".J_login_warp").attr("data-domain");t()?window.location.href=n+"/users/message.html":e()}),$(".J_login").on("click",function(i){t()?$(".J_login").addClass("active"):(e(),$(".J_login").removeClass("active"))}),$(".J_login_m").on("click",function(i){t()?($(".J_login_m").addClass("active"),"none"==$(".J_login_m .J_login_content").css("display")?$(".J_login_m .J_login_content").show():$(".J_login_m .J_login_content").hide()):(e(),$(".J_login_m").removeClass("active"))}),$(".J_accout").on("click",function(i){i.stopPropagation();var n=$(".J_login_warp").attr("data-domain");t()?window.location.href=n+"/users/account.html":e()}),$(".J_signout").on("click",function(e){r("passport_host"),r("account_host"),e.stopPropagation();var t=window.location.href;t&&(t.indexOf("users/account")>-1||t.indexOf("users/message")>-1)&&(t=t.indexOf("stage")>-1||t.indexOf("dtest")>-1?"https://dtest.cgtn.com":"https://www.cgtn.com"),window.location.href=h+t})}};t.exports=n},{}],3:[function(e,t,i){var n=e("../cg2020_common_/cg2020_common_.js"),a=e("../g-login.js"),o={run:function(){function e(){this.avtiveName=null,this.parentEle=$(".header-nav-anotherlist")}function t(){var e=$(window).width();if(e<768){i($(".J-header-v3-bar-m").height(),$(".J-header-v3-nav-warp-m").height())}else{var t=$(".J-header-v3-bar").height();t=e<1261?101:109,console.log(t);o(t,$(".J-header-v3-nav-warp").height()),$(".J-header-v3-menu").hasClass("active")&&s()}$(".header-v3-m-children").removeClass("active"),$(".J-m-nav-more").removeClass("active"),$(".J-language-content").removeClass("active"),$(".J-language-more").removeClass("active")}function i(e,t){$(document).scrollTop()>=e?$(".J-header-v3-nav-warp-m").addClass("nav-fixed"):($(".J-header-v3-nav-warp-m").removeClass("nav-fixed"),$(".J-header-v3-bar-m").height(e))}function o(e,t){$("body").css("overflow","auto"),$(document).scrollTop()>=e?$(".J-header-v3-nav-warp").addClass("nav-fixed"):($(".J-header-v3-nav-warp").removeClass("nav-fixed"),$(".J-header-v3-bar").height(e))}function s(){$(".J-header-v3-menu").removeClass("active"),$(".J-header-v3-ipad-menulist").hide()}function r(e,t){if(t&&!e.data("isBindScroll")){var i={posY:0,maxscroll:0};e.on({touchstart:function(e){var n,a=e.touches?e.touches[0]:e,o=$(e.target);n=o,o.is(t)?n=o:0==(n=o.parents(t)).length&&(n=null),n&&(i.elScroll=n,i.posY=a.pageY,i.scrollY=n.scrollTop(),i.maxscroll=n[0].scrollHeight-n[0].clientHeight)},touchmove:function(e){i.maxscroll<=0&&e.preventDefault();var t=i.elScroll,n=t.scrollTop(),a=e.touches?e.touches[0]:e,o=a.pageY-i.posY;return o>0&&0==n?void e.preventDefault():o<0&&n+1>=i.maxscroll?void e.preventDefault():void 0},touchend:function(){i.maxscroll=0}}),e.data("isBindScroll",!0)}}var c=function(){var t;return function(){return t||(t=new e)}}();e.prototype.open=function(){return this.parentEle.show(),1},e.prototype.close=function(){this.parentEle.hide()},e.prototype.setName=function(e){this.avtiveName=e},e.prototype.getName=function(){return this.avtiveName};var d=c();$(".J-header-v3-nav-warp li").on("mouseover",function(e){var t=$(this).data("click-name");d.getName();if($(this).data("list")){var i=this;d.setName(t),d.open(),$(this).addClass("click-active"),[].slice.call($(".cg-link-children ul")).forEach(function(e){var n=$(e).data("display-name");$(e).hide(),t===n&&($(e).show(),$(e).css("left",i.offsetLeft))})}}),$(".J-header-v3-nav-warp li").on("mouseout",function(e){$(this).removeClass("click-active"),d.close()}),$(".J-top-language-btn-m").on("click",function(e){$(".J-header-v3-menu-m").hasClass("active")&&($(".J-header-v3-menu-m").removeClass("active"),$(".J-header-menu-list-m").hide(),$("body").css("overflow","auto"))}),n.start(),a.run();var l=267;$(".hide-tiktok").length&&(l=267),$(".J-header-v3-more").on("click",function(){console.log("222"),$(".header-v3-follow").width()<=108?($(".header-v3-follow").width(l),$(this).addClass("shrink"),$(this).removeClass("more")):($(".header-v3-follow").width(108),$(this).addClass("more"),$(this).removeClass("shrink"))}),$(".J-icon-follow .wechat").on("mouseover",function(e){$(".header-v3-wechat").find("img").length||$(".header-v3-wechat").append('<img src="//ui.cgtn.com/ui/attention/attention.jpg" width="150" />'),$(".header-v3-wechat").css("display","block")}),$(".J-icon-follow .wechat").on("mouseout",function(e){e.stopPropagation(),$(".header-v3-wechat").css("display","none")}),$(".header-v3-follow-common .wechat").on("click",function(){$(".wx-wrap-v3").find("img").length?"none"==$(".J-header-v3-m-wehat").css("display")?$(".J-header-v3-m-wehat").css("display","block"):$(".J-header-v3-m-wehat").css("display","none"):($(".wx-wrap-v3").append('<img src="//ui.cgtn.com/ui/attention/attention.jpg" />'),$(".J-header-v3-m-wehat").css("display","block"))}),$(".J-header-v3-m-wehat").on("click",function(){$(".J-header-v3-m-wehat").css("display","none")}),t(),$(window).resize(function(){t()}),$(document).scroll(function(e){t()}),$(".J-header-v3-menu-m").on("click",function(){if($(this).hasClass("active"))$("body").css("overflow","auto"),$(this).removeClass("active"),$(".J-header-menu-list-m").hide();else{r($(".m-header-v3"),".J-header-menu-list-m"),$("body").css("overflow","hidden"),$(this).addClass("active");var e=$(".J-header-v3-nav-warp-m")[0].getBoundingClientRect().top,t=window.innerHeight;$(".J-header-menu-list-m").css({top:e+48,height:t-e-48}),$(".J-header-menu-list-m").show()}}),$(".J-header-v3-menu").on("click",function(){$(this).hasClass("active")?($(this).removeClass("active"),$(".J-header-v3-ipad-menulist").hide()):($(this).addClass("active"),$(".J-header-v3-ipad-menulist").show())}),$(".J-m-nav-more").on("click",function(){$(this).hasClass("active")?($(this).removeClass("active"),$(this).parent().find(".header-v3-m-children").removeClass("active")):($(this).addClass("active"),$(this).parents().find(".header-v3-m-children").addClass("active"))}),$(".J-language-more").on("click",function(){$(this).hasClass("active")?($(this).removeClass("active"),$(this).parent().find(".J-language-content").removeClass("active")):($(this).addClass("active"),$(this).parents().find(".J-language-content").addClass("active"))})}};t.exports=o},{"../cg2020_common_/cg2020_common_.js":1,"../g-login.js":2}],4:[function(e,t,i){var n={dialog:function(){function e(){var e=new Date;e.setDate(e.getDate()+9999);var t="GDPR=1 ;path=/; domain=.cgtn.com ;expires="+e.toUTCString();document.cookie=t,console.log("cookie",t)}!function(){var e=~document.body.className.indexOf("iOSBrowser"),t=~document.body.className.indexOf("androidbrowser"),i=~document.body.className.indexOf("ios"),n=~document.body.className.indexOf("android");return e||t||i||n}()?!function(){return~document.cookie.indexOf("GDPR")}()?$(".js-tools-dialog").show():("function"==typeof gtag&&gtag("consent","update",{ad_storage:"granted",analytics_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}),e()):"function"==typeof gtag&&gtag("consent","update",{ad_storage:"granted",analytics_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}),$(".dialog-confirm").click(function(){"function"==typeof gtag&&gtag("consent","update",{ad_storage:"granted",analytics_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}),e(),$(".js-tools-dialog").hide()}),$(".dialog-close").click(function(){$(".js-tools-dialog").hide()})},isIE9:function(){}};t.exports=n},{}],5:[function(e,t,i){function n(e){this.element=e.element,this.trigger=e.trigger||"hover",this.title=e.title,this.init()}n.prototype.init=function(){if($(this.element).length){var e=this;this.onHover(),$(window).bind("resize",function(){e._setPosition.call(e)})}},n.prototype.onHover=function(){var e=this;$(e.element).hover(e.show.bind(e),e.hide.bind(e))},n.prototype.show=function(){this._setPosition(),$(".J_cg_tooltip").show()},n.prototype.hide=function(){$(".J_cg_tooltip").hide()},n.prototype._setPosition=function(){var e=this.element,t=$(window).width(),i=$(e).offset().top,n=$(e).offset().left,a=$(e).height(),o=$(e).innerWidth(),s=t-(n+o);this.isExist()||this._setTooltip();var r=$(".J_cg_tooltip").innerWidth(),c=$(".J_cg_tooltip").height(),d="auto";if(s<r+4){var l=n,p=i+a+2,h=o/2;l+r>t&&(l="auto",h=r-(t-n)+o/2,d=0),$(".J_cg_tooltip").css("left",l),$(".J_cg_tooltip").css("top",p),$(".J_cg_tooltip").css("right",d),this._setArrow("top",h)}else $(".J_cg_tooltip").css("left",o+n+4),$(".J_cg_tooltip").css("top",i-c/2+a/2),$(".J_cg_tooltip").css("right",d),this._setArrow("left")},n.prototype._setArrow=function(e,t){if(e){var i=$(".cg_tooltip_wrapper .tooltip-arrow");i.removeClass("tooltip-arrow-left"),i.removeClass("tooltip-arrow-top"),i.addClass("tooltip-arrow-"+e),t&&i.css("left",t)}},n.prototype._setTooltip=function(){if(!this.isExist()){var e='<div class="cg_tooltip_wrapper"><div class="cg-tooltip J_cg_tooltip"><div class="tooltip-arrow"></div><div class="tooltip-content">'+this.title+"</div></div></div>";$("body").append(e)}},n.prototype.isExist=function(){return $(".J_cg_tooltip").length},t.exports=n},{}],6:[function(e,t,i){var n=e("../../website/module/components/video.js"),a=e("./Popover/index"),o={isLiveApp:function(){var e=navigator.userAgent,t=e.indexOf("CGTN/Android")>-1,i=e.indexOf("CGTN/iOS")>-1;return t||i},getAppLiveClassName:function(){return".js-app-live-news"},getApiPrefix:function(){return $(".js-share").data("apiprefix")||"/"},getTranslateApi:function(){return $(".js-share").data("translatapi")||"/"},newsCache:[],addCache:function(e){return o.newsCache.push(e)},uniq:function(e,t){if(!e||"[object Array]"!==Object.prototype.toString.call(e))return[];var i=0,n=[];e=e||[];for(var a=0,s=e.length;a<s;a++){var r=e[a].sn;!~o.newsCache.indexOf(r)&&i<t&&(o.addCache(r),n.push(e[a]),i++)}return n},getTopNews:function(e){o.isLiveApp()||$.ajax({url:o.getApiPrefix()+"/api/news/topnews?news_from="+e,method:"get",contentType:"application/json",dataType:"json",success:function(e){if(e&&e.data){var t=o.uniq(e.data,3);if(o.renderTopNews(t),$(".linkHeader").length>0){var i=o.osSystem(),n=i.hasApp,a=i.isWeiYin,s=o.osSystem().isAndroid;n&&(o.renderAppTopNews(t),o.initTopSection(),$(".hotNews .slider").each(function(e,t){$(this).bind("click",function(e){var t=$(this).attr("data-index");window.sendWebEvent&&window.sendWebEvent("Download_App","click_top_download","icon_"+(parseInt(t)+1)),window.ga4SendWebEvent&&window.ga4SendWebEvent("Download_App","click_top_download","icon_"+(parseInt(t)+1)),o.hasInstallApp(n,s,a)})}))}}},error:function(e){console.log("error",e)}})},getMoreFrom:function(e){o.isLiveApp()||$.ajax({url:o.getApiPrefix()+"/api/news/more?newsSn="+e,method:"get",contentType:"application/json",dataType:"json",success:function(e){if(e.data){var t=o.uniq(e.data,4);o.renderMoreFrom(t)}},error:function(e){console.log("error",e)}})},getRelatedStories:function(e){var t=o.isLiveApp();t&&o.handleAppLive(),$.ajax({url:o.getApiPrefix()+"/api/news/recommend?newsSn="+e,method:"get",contentType:"application/json",dataType:"json",success:function(e){if(e&&e.data){var i=o.uniq(e.data,3);o.renderRelatedStories(i),t&&o.renderLiveRelatedStories(i)}},error:function(e){console.log("error",e)}})},watchStatistics:function(e){var t=$(".J_news-statistics");t.length&&(o.ajaxnum++,$.ajax({url:o.getApiPrefix()+"/api/data/routineData/"+e,method:"get",contentType:"application/json",dataType:"json",success:function(e){if(e.data){var i=e.data,n="",s=".J_news-statistics .J_statistics-wrapper-0";try{for(var r=0;r<i.length;r++){var c=i[r];null!==c.text&&(n+='<div class="statistics-wrapper J_statistics-wrapper-'+r+'"><img src="'+c.icon+'" ><span class="statistics-text">'+c.text+"</span></div>")}t.append(n),$(s).length&&new a({element:s,title:"Supported by Google Analytics",trigger:"hover"}),o.ajaxnum--,o.autoplayVideoForApp()}catch(e){console.log(e)}}},error:function(e){console.log("error",e)}}))},videoList:[],ajaxnum:0,autoplayVideoForApp:function(e,t){var i,a=$("body").hasClass("android"),s=$("body").hasClass("ios");if(e&&(o.videoList=[]),$(".J_player_container_main").map(function(a,s){i=n.getVideoInfoForApp(s),e&&e===s&&(i.video_status=t),i&&o.videoList.push(i)}),o.ajaxnum)console.log("waiting for ajax finish...");else{try{a&&AndroidWebView.PlayFirstVideo(encodeURIComponent(JSON.stringify(o.videoList[0]))),s&&window.webkit.messageHandlers.PlayFirstVideo.postMessage(o.videoList[0])}catch(e){console.log(e)}try{a&&AndroidWebView.addVideoPlayer(encodeURIComponent(JSON.stringify(o.videoList[0]))),s&&window.webkit.messageHandlers.StandByPlayer.postMessage(o.videoList[0])}catch(e){console.log(e)}}},getVideoUrl:function(e){try{return e[0].video.url}catch(e){return""}},getLiveVideo:function(e){if(!($("#live-video").length<1)){$(".section").addClass("live-section").css("background","#f6a011").text("COMING UP");var t=o.getTranslateApi()+"/api/news/info?id="+e,i=$("#live-video-myOverlay").find(".play-icon");i.hide(),o.ajaxnum++,$.ajax({type:"GET",url:t,dataType:"json",success:function(t){if(200==t.status){var n=o.getVideoUrl(t.data.coverVideos),a=t.data.live&&t.data.live.status,s=t.data.live&&t.data.live.startTimeStr,r=t.data.live&&t.data.live.region;switch(s&&$(".m-top-title").find(".date").text(o.time(s)),r&&($(".J_location").find(".text").text(r),$(".J_location").show()),parseInt(a)){case 1:$("#cg-live-image").show(),$(".section").addClass("live-section").css("background","#f6a011").text("COMING UP");break;case 2:$("#cg-live-video").show(),$("#cg-live-image").hide(),i.show(),$(".section").addClass("live-section").css("background","#e00e0e").text("LIVE"),o.renderLiveVideo(n,e,a,"LIVE");break;case 3:$("#cg-live-video").show(),i.show(),$("#cg-live-image").hide(),$(".section").addClass("live-section").css("background","#70ae29").text("REPLAY"),o.renderLiveVideo(n,e,a,"REPLAY");break;default:$("#cg-live-image").show()}}}})}},renderLiveVideo:function(e,t,i,a){function s(){v=setInterval(function(){u+=g/1e3},g)}function r(){clearInterval(v)}if(e)if($("#cg-live-image").length){var c=$("#cg-live-image").children("img").attr("src"),d=jwplayer("live-video"),l=!1,p=$(".news-title").text(),h={newsId:t,headline:p,origin:"web_list"},u=0,g=100,v=null;window.addEventListener("visibilitychange",function(t){"hidden"===document.visibilityState&&(window.sendVideoOtherEvent("video_duration",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live",dimension27:parseInt(u)}),window.ga4SendVideoOtherEvent("video_duration",h.newsId,h.headline,e,h.origin),d.play(!1),u=0)}),d.setup({file:e,image:c,stretching:"fill",width:"100%",aspectratio:"16:9",androidhls:!0,autostart:!1,primary:"html5",events:{onPlay:function(){window.CMSVideo.pauseOthers($(this)[0].id)}}}).on("play",function(t){l||(l=!0,console.log("played",t),window.sendVideoPlayEvent(h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoPlayEvent(h.newsId,h.headline,e,h.origin)),s()}).on("fullscreen",function(t){console.log("fullscreen: ",t)
;var i=t.fullscreen?"full_screen":"exit_full_screen";window.sendVideoOtherEvent(i,h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent(i,h.newsId,h.headline,e,h.origin)}).on("complete",function(t){console.log("complete : ",t),window.sendVideoOtherEvent("complete",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent("complete",h.newsId,h.headline,e,h.origin),r()}).on("pause",function(t){console.log("pause: ",t,"Live"),window.sendVideoOtherEvent("pause",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent("pause",h.newsId,h.headline,e,h.origin),r()}).on("levelsChanged",function(t){var i=t.currentQuality,n=t.levels[i].label;console.log("HD: ",t),window.sendVideoOtherEvent("video_quality",h.newsId,h.headline,e,h.origin,{dimension41:n,dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent("video_quality",h.newsId,h.headline,e,h.origin)}).on("volume",function(t){console.log("volume",t),window.sendVideoOtherEvent("volume",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent("volume",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"})}).on("mute",function(t){console.log("mute",t),window.sendVideoOtherEvent("volume",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent("volume",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"})}).on("seek",function(t){console.log("back",t),window.sendVideoOtherEvent("back",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent("back",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"})})}else document.getElementById("live-video").setAttribute("data-video",e),document.getElementById("live-video-myOverlay").setAttribute("data-video",e),n.run&&n.run(a),n.livePlayer&&n.livePlayer(a),o.ajaxnum--,o.autoplayVideoForApp(document.getElementById("live-video-myOverlay"),a)},getAppLiveTabClass:function(){return".app-live-tab-content"},sendAndroidMessage:function(e){if(navigator.userAgent.indexOf("CGTN/Android")>-1)try{AndroidWebView.onLiveSelect(e)}catch(e){console.log("sendAndroidMessage",e)}},handleAppLive:function(){function e(){var e=$(a).height(),n=$(t);$(document).scrollTop()>=e?n.hasClass(i)||n.addClass(i):n.removeClass(i)}var t=".app-live-tab",i=(o.getAppLiveTabClass(),"app-live-tab-fixed"),a=".cmsVideo",s=$(t).children();s.eq(0).bind("click",function(){s.eq(1).removeClass("active"),$(this).addClass("active"),$(".tab-information").show(),$(".tab-recommend").hide(),o.sendAndroidMessage(1)}),s.eq(1).bind("click",function(){s.eq(0).removeClass("active"),$(this).addClass("active"),$(".tab-information").hide(),$(".tab-recommend").show(),n.pauseAll(),o.sendAndroidMessage(2)}),e(),$(document).scroll(function(t){e()})},renderTopNews:function(e){var t="";e.forEach(function(e){e.newsCategory="TOP NEWS",t+='<div class="row"><div class="row"><div class="col-md-60 col-xs-60 cg-padding">'+o.getGeneralVerticalSmall(e)+'</div></div><div class="row cg-padding cg-mb-15 cg-mt-15">'+o.border()+"</div></div>"});var i=$('<div class="row js-topNews">'+o.title("TOP NEWS")+t+"</div>");$(".topNews").append(i),o.resize(),o.changeImgs(),o.analyticNews("js-topNews")},renderRelatedStories:function(e){var t="";e.forEach(function(e){e.newsCategory="RELATED STORIES",t+='<div class="col-md-20 col-xs-60 cg-padding">\n'+o.getGeneralVerticalSmall(e)+'</div>\n<div class="hidden-lg hidden-md col-sm-60 col-xs-60 cg-padding">\n'+o.border()+"</div>"});var i=$('<div class="row js-relatedStories">'+o.title("RELATED STORIES")+t+"</div>");$(".relatedStories").append(i),o.resize(),o.changeImgs()},renderLiveRelatedStories:function(e){var t=$(".js-app-live-news");if(t.length&&o.isLiveApp()){var i="";e.forEach(function(e){i+='<div class="relatedstories-item-vertical col-xs-60 cg-margin">\n'+o.getAppLiveVerticalSmall(e)+'<div class="cg-app-live-title"><h3>'+o.link(e,4)+"</h3></div>\n</div>\n"}),t.find(".js-live-relatedstories-vertical").append(i),o.resize(),o.changeImgs()}},getAppLiveHorizontalSmall:function(e){o.analyticNews(JS_CLASSNAME)},getAppLiveVerticalSmall:function(e){var t="",i="",n=e.liveInfo.status,a=e.type,s=e.liveInfo&&e.liveInfo.region,r=e.liveInfo&&e.liveInfo.startTimeStr||e.publishTime;if(n&&6==a){var c,d;switch(n){case 1:c="COMMING UP",d="cg-interrupt-flag";break;case 2:c="LIVE",d="cg-started-flag";break;case 3:c="REPLAY",d="cg-stoped-flag"}i='<span class="cg-live-status '+d+'">'+c+"</span>\n"}t=s?'<div class="cg-live-location"><div class="location-icon"></div><p class="location">'+s+"</p></div>\n":"";var l=' <div class="cg-app-live-description col-sm-30 col-xs-30">'+i+'        <div class="cg-live-time"><div class="time-icon"></div><p>'+o.time(r)+"</p></div>\n"+t+"</div>";return'<div class="cg-ge-ve-sm cg-newsWrapper cg-app-live-vertical"><div class="cg-pic cg-com-zwt col-md-60 col-sm-30 col-xs-30">\n'+o.link(e,2)+"</div>"+l+"</div>"},renderMoreFrom:function(e){var t=e.shift();t.newsCategory="MORE FROM CGTN";var i='<div class="col-md-60 col-xs-60 cg-padding">\n'+o.getGeneralHorizontalBig(t)+'</div>\n<div class="row cg-col-100 hidden-sm hidden-xs cg-padding cg-mt-15 cg-mb-15">\n'+o.border()+"</div>";e.forEach(function(e){e.newsCategory="MORE FROM CGTN",i+='<div class="hidden-lg hidden-md col-sm-60 col-xs-60 cg-padding">\n'+o.border()+'</div>\n<div class="col-md-20 col-xs-60 cg-padding">\n'+o.getGeneralVerticalSmall(e)+" </div>\n"});var n=$('<div class="row js-moreform">'+o.title("MORE FROM CGTN")+'<div class="row">'+i+"</div></div>");$(".moreFrom").append(n),o.resize(),o.changeImgs(),o.analyticNews("js-moreform")},analyticNews:function(e){var t=$(".js-share").data("id");$("."+e+" .js-newsWrapper a").each(function(e,i){"Related_News"==$(i).attr("data-type")&&$(i).bind("click",function(e){var n=$.trim($(i).attr("data-label")),a=$(i).attr("data-news-id"),o=$(i).attr("data-list");window.sendWebEvent&&window.sendWebEvent("ArticleDetailsPage","News_Click","Related_News",{dimension1:a,dimension2:n,dimension20:t,dimension16:o}),window.ga4SendWebEvent&&window.ga4SendWebEvent("ArticleDetailsPage","News_Click","Related_News")})})},getGeneralVerticalSmall:function(e){return'<div class="cg-ge-ve-sm cg-newsWrapper cg-vertical-to-horizontal js-newsWrapper">'+(e.liveStatus?'<div class="cg-pic cg-com-zwt col-md-60 col-sm-30 col-xs-30">\n'+o.link(e,1)+"</div>":1!=e.coverType?'<div class="cg-video cg-com-zwt col-md-60 col-sm-30 col-xs-30">\n'+o.link(e,3)+"</div>":'<div class="cg-pic cg-com-zwt col-md-60 col-sm-30 col-xs-30">\n'+o.link(e,2)+"</div>")+' <div class="cg-content-description col-md-60 col-sm-30 col-xs-30">        <div class="cg-title"><h3>'+o.link(e,4)+'</h3></div>\n        <div class="cg-critic">'+(e.signature||"")+'</div>\n        <div class="cg-info">\n            <div class="cg-newsCategory"><p>'+(e.property||"")+'</p></div>\n            <div class="cg-time"><p>'+o.time(e.publishTime)+"</p></div>\n        </div>\n</div></div>"},getGeneralHorizontalBig:function(e){if(void 0===e)return"";return'<div class="cg-ge-ho-bg cg-pic-big2 cg-newsWrapper js-newsWrapper">'+(e.liveStatus?'<div class="cg-pic-big cg-com-zwt col-md-40 col-xs-60">\n'+o.link(e,1)+" </div>":1!=e.coverType?'<div class="cg-video cg-com-zwt col-md-40 col-xs-60">\n'+o.link(e,3)+"</div>":'<div class="cg-pic-big cg-com-zwt col-md-40 col-xs-60">\n'+o.link(e,2)+"</div>")+' <div class="cg-content-description col-md-20 col-xs-60">        <div class="cg-title"><h3>'+o.link(e,4)+'</h3></div>\n        <div class="cg-critic">'+(e.signature||"")+'</div>\n<div class="cg-content hidden-sm hidden-xs">'+(e.summary||"")+'</div>        <div class="cg-info">\n            <div class="cg-newsCategory"><p>'+(e.property||"")+'</p></div>\n            <div class="cg-time"><p>'+o.time(e.publishTime)+"</p></div>\n        </div>\n</div></div>"},link:function(e,t){var i;switch(t){case 1:var n,a="";switch(e.liveStatus){case 1:a="COMMING UP",n="cg-interrupt-flag";break;case 2:a="LIVE",n="cg-started-flag";break;case 3:a="REPLAY",n="cg-stoped-flag"}i='<img class="lazy" data-original="'+e.coverImg[0].url+'" />\n                <div class="cg-pic-mask"></div>\n                <div class="cg-tag">\n                        <div class="'+n+'">\n                            <h3>'+a+"</h3>\n                            <h5>Started: "+o.time(e.liveStartTime)+"</h5>\n                        </div>\n                </div>\n";break;case 2:i='<div class="cg-pic-mask"></div><img data-width="'+e.coverImgMultiRatio.r_16_9.quality_max.width+'"  data-original="'+e.coverImgMultiRatio.r_16_9.quality_max.url+'"  alt="'+(null==e.shortHeadline?"":e.shortHeadline)+'"  src="" />';break;case 3:i='<div class="cg-video-link-wrapper"><div class="play-icon"\n role="button"  tabindex="0"></div><div class="video-control-wrapper"></div><img  data-width="'+e.coverImgMultiRatio.r_16_9.quality_max.width+'"  data-original="'+e.coverImgMultiRatio.r_16_9.quality_max.url+'" alt="'+(null==e.shortHeadline?"":e.shortHeadline)+'"  src=""/></div>';break;case 4:i=e.shortHeadline}return'<a href="'+e.shareUrl+'" target="_blank" data-category="Home" data-action="News_Click" data-type="Related_News" data-label="'+e.shortHeadline+'" data-list="'+e.newsCategory+'" data-position="" data-news-id="'+e.sn+'" data-time="'+e.publishTime+'">'+i+"</a>"},time:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=new Date(parseInt(e)),n=i.getFullYear(),a=i.getMonth(),o=i.getDate(),s=i.getHours(),r=i.getMinutes();return 0<=s&s<10&&(s="0"+s),0<=r&r<10&&(r="0"+r),0<=o&o<10&&(o="0"+o),s+":"+r+", "+o+"-"+t[a]+"-"+n},border:function(){return'<div class="cg-row-border"></div>'},title:function(e){return'<div class="cg-row-title cg-margin">\n        <h2 class="cg-row-title-content">'+e+"</h2>\n    </div>"},resize:function(){$(".cg-ge-ve-sm .cg-pic, .cg-ge-ve-sm .cg-video, .cg-ge-ho-sm .cg-pic, .cg-ge-ho-sm .cg-video").each(function(e,t){$(t).resize(function(){if($("body").width()+18<670){var e=$(t).height();$(t).next().css({height:e})}else $(t).next().removeAttr("style")})})},isImg:function(e,t,i){var n=new Image;n.onload=function(){1==this.complete&&i(e)},n.onerror=function(){i(t)},n.src=e},typeImgs:function(e,t){return/^(\S+(?=\-\d+))(\-\d+)\.([a-z]{1,})$/gim.test(e)?e.replace(/^(\S+(?=\-\d+))(\-\d+)\.([a-z]{1,})$/gim,"$1-"+t+".$3"):/^(\S+(?!\-\d+))\.([a-z]{1,})$/gim.test(e)?e.replace(/^(\S+(?!\-\d+))\.([a-z]{1,})$/gim,"$1-"+t+".$2"):e},changeImgs:function(){var e=this;$(".cg-pic, .cg-video, .cg-pic-big").each(function(t,i){var n=$(i)[0].offsetWidth,a=$(i).find("img"),o=a.attr("data-original"),s=Number(a.attr("data-width"));if(n<=250){var r;s>n&&s>250?(r=e.typeImgs(o,250),e.isImg(r,o,function(e){a.attr("src",e)})):a.attr("src",o)}else if(n>250&&n<=750){var c;s>n&&s>750?(c=e.typeImgs(o,750),e.isImg(c,o,function(e){a.attr("src",e)})):a.attr("src",o)}else if(n>750&&n<=1280){var d;s>n&&s>1280?(d=e.typeImgs(o,1280),e.isImg(d,o,function(e){a.attr("src",e)})):a.attr("src",o)}else if(n>1280&&n<=1920){var l;s>n&&s>1920?(l=e.typeImgs(o,1920),e.isImg(l,o,function(e){a.attr("src",e)})):a.attr("src",o)}else n>1920&&a.attr("src",o)})},initTopSection:function(){$(".hotNews .hotNews-container").slick({dots:!0,slidesToShow:1,slideToScroll:1,autoplay:!0,autoplaySpeed:5e3,infinite:!0,initialSlide:0,lazyLoad:"ondemand",zIndex:10,focusOnSelect:!0,arrows:!1})},toJumpAPP:function(e,t,i){if(t)window.location.href=e;else{if(!i){var n="";n=$('.linkHeader input[name="shareUrl"]').val(),n||(n=window.location.href),n=n.replace("https://","cgtn://"),$("body").append('<a href="'+n+'" id="jumpAPP"></a>'),$("#jumpAPP")[0].click(),$("#jumpAPP").remove()}window.setTimeout(function(){$("body").append('<a href="'+e+'" id="jumpAPP"></a>'),$("#jumpAPP")[0].click(),$("#jumpAPP").remove()},500)}},hasInstallApp:function(e,t,i){var n=this,a=$('.linkHeader input[name="weiYinUrl"]').val();if(e){var o="",s=window.isOutside?window.isOutside:"inside",r=!(t>-1),c="";c=$('.linkHeader input[name="shareUrl"]').val(),c||(c=window.location.href),"inside"==s&&t>-1&&i?(o=a+"/download/CGTN.html?data="+c,n.toJumpAPP(o,!0,r)):(c=c.replace(":","%3A").replace("/","%2F"),o="inside"!==s?"https://cgtnapp.onelnk.com/KCzn?pid=mobilewebsite0&af_web_dp=https%3A%2F%2Fwww.cgtn.com%2F&af_dp="+c+"&deep_link_value=haiwai":"https://cgtn.onelink.me/12914159?pid=detail&c=detail&deep_link_value=detail&af_web_dp=https%3A%2F%2Fwww.cgtn.com%2F&af_dp="+c,n.toJumpAPP(o,!1,r))}},isApp:function(){var e=$(".js-share").data("id"),t=o.osSystem(),i=t.hasApp,n=t.isWeiYin,a=o.osSystem().isAndroid;i&&($(".hotNews").css({display:"block"}),$(".turnToAppStore").css({display:"block"}),$(".searchTrends").css({display:"block"}),$(".cg-min-footer").css({display:"none"}),$(".cg-share-page").css({"max-height":"45.8rem",overflow:"hidden"}),$(".cg-share-page .topNews").css({display:"none"}),$(".cg-share-page .relatedStories").css({display:"none"}),$(".cg-share-page .moreFrom").css({display:"none"}),$(".openAppBtn .doubleArrow").on("click",function(){$(".cg-share-page").css({"max-height":"none",overflow:"visible"}),$(".turnToAppStore").css({display:"none"})}),$(".translate-share .tr-m-list").css({top:"0"}),$(".openAppBtn .openBtn").bind("click",function(e){window.sendWebEvent&&window.sendWebEvent("Download_App","open_app"),window.ga4SendWebEvent&&window.ga4SendWebEvent("Download_App","open_app"),o.hasInstallApp(i,a,n)}),o.getAppBanner(),o.getKeyWordsForApp(e))},renderAppTopNews:function(e){var t="";e.forEach(function(e,i){var n=e.coverImgMultiRatio.r_16_9?e.coverImgMultiRatio.r_16_9.quality_max.url:e.coverImgMultiRatio.r_0_0.quality_max.url,a=e.shortHeadline?e.shortHeadline:"";t+='<div class="slider item" data-index="'+(i+1)+'"><div class="coverImg"><img  src="'+n+'" alt="'+a+'"  ></div><p class="headline">'+e.shortHeadline+'</p><div class="viewMore">View More</div></div>'}),$(".hotNews .hotNews-container").append(t)},getAppBanner:function(){$.ajax({url:o.getApiPrefix()+"/api/news/banner",method:"get",contentType:"application/json",dataType:"json",success:function(e){if(200==e.status){var t=e.data,i="";i+='<div class="appBanner cg-com-zwt"><img class="lazy" src="'+t+'"/></div>',$(".searchTrends .banner").append(i);var n=o.osSystem(),a=n.hasApp,s=n.isWeiYin,r=o.osSystem().isAndroid;$(".searchTrends .banner").bind("click",function(e){window.sendWebEvent&&window.sendWebEvent("Download_App","click_picture_download"),window.ga4SendWebEvent&&window.ga4SendWebEvent("Download_App","click_picture_download"),o.hasInstallApp(a,r,s)})}else console.log("error")},error:function(e){console.log("error",e)}})},getKeyWordsForApp:function(e){$.ajax({url:o.getApiPrefix()+"/api/property/bySection?newsSn="+e,method:"get",contentType:"application/json",dataType:"json",success:function(e){if(200==e.status){var t=e.data;o.renderKeywordsList(t);var i=o.osSystem(),n=i.hasApp,a=i.isWeiYin,s=o.osSystem().isAndroid;$(".searchTrends .item").each(function(e){$(this).bind("click",function(t){window.sendWebEvent&&window.sendWebEvent("Download_App","click_search_trends","icon_"+(e+1)),window.ga4SendWebEvent&&window.ga4SendWebEvent("Download_App","click_search_trends","icon_"+(e+1)),o.hasInstallApp(n,s,a)})})}else console.log("error")},error:function(e){console.log("error",e)}})},renderKeywordsList:function(e){var t="";e.forEach(function(e){t+='<li class="item"><a><div class="btn"><span class="words">'+e.name+'</span><span class="hits">10k+</span></div></a ></li >'}),$(".hotKeywords .keywordList").append(t)},osSystem:function(){var e=navigator.userAgent,t=e.indexOf("Android");return{hasApp:!!(/(iPhone|iPod|IOS)/i.test(e)||t>-1||e.indexOf("Linux")>-1&&e.indexOf("UOS")<0),isAndroid:t,isWeiYin:e.toLowerCase().indexOf("micromessenger")>-1}}};t.exports=o},{"../../website/module/components/video.js":16,"./Popover/index":5}],7:[function(e,t,i){var n={run:function(){function e(e){if(e&&("https://test-account.user.cgtn.com"==e.origin||"https://test-passport.user.cgtn.com"==e.origin||"https://account.user.cgtn.com"==e.origin||"https://passport.user.cgtn.com"==e.origin||"https://cgtn.com"==e.origin||"https://intucenter.user.cgtn.com"==e.origin||"https://ucenter.user.cgtn.com"==e.origin)){var t=e.data,n=[];if(t&&(n=t.split(":")),n[0]&&"height"==n[0]){var a=parseInt(n[1]);0==a?$("#J-liveblog-pc-commentList").hide():$("#commentPageIdList").css("height",a+50+"px")}if(n[0]&&"isLogin"==n[0]&&(loginUrlDynamic=n[1]+":"+n[2],i()),n[0]&&"iconHeight"==n[0]){0==parseInt(n[1])&&($("#J-liveblog-iph-comment").hide(),$("#J-liveblog-pc-commentInfo").hide())}}}function t(){var e=$("#J-liveblog-pc-commentInfo").attr("data-domain"),t="https://ucenter.user.cgtn.com/home/index.html#";e&&(e.indexOf("stage")>-1||e.indexOf("dtest")>-1||e.indexOf("localhost")>-1)&&(t="https://ucenter.user.cgtn.com/test/index.html#");var i=$("#J-liveblog-pc-commentInfo").attr("data-id"),n=t+"/blog-info?id="+i,a=t+"/bloglist?id="+i,o=$("#J-liveblog-iph-comment").attr("data-id");return{commentInfoPcUrl:n,commentListPcUrl:a,commentIphBtmUrl:t+"/blog-info-mobile?id="+o,commentIphComUrl:t+"/bloglist-mobile?id="+o}}function i(){var e=window.location.href;window.location.href=loginUrlDynamic+"?redirectToUrl="+e}function n(){$("#J-liveblog-iph-comment").hide(),$("#J-liveblog-iph-commentmain").show(),$("#commentPageId2").attr("src",t().commentIphComUrl)}function a(){$("#J-liveblog-iph-comment").show(),$("#J-liveblog-iph-commentmain").hide()}var o=document.getElementById("commentPageIdInfo"),s=document.getElementById("commentPageIdList");o.src=t().commentInfoPcUrl,s.src=t().commentListPcUrl,document.getElementById("commentPageId1").src=t().commentIphBtmUrl,window.addEventListener("message",e,!1),window.addEventListener("message",function(e){"open"==e.data?n():"close"==e.data&&a()})}};t.exports=n},{}],8:[function(e,t,i){var n="incr",a={run:function(e){a.request(e),a.bindClick(e),a.setDarkStyle()},request:function(e,t,i){var n=$(".J_like_data").data("apiprefix");n&&(n+="?id="+e+"&type="+(t||""),$.ajax({url:n,method:"get",contentType:"application/json",dataType:"json",success:function(e){if(200==e.statusCode){var t=(e.msg&&JSON.parse(e.msg)||0)+"";$(".J_like").find(".like-count").text(t.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")),"function"==typeof i&&i(e)}},error:function(e){console.log("error",e)}}))},bindClick:function(e){function t(){var t=$(".J_like");a.animation({obj:t,str:"+1",callback:function(){}}),a.niceIn(t),a.request(e,n,function(){a.ga()})}$(".J_like").on("click",a.throttle(t,1e3))},animation:function(e){e=$.extend({obj:null,str:"+1",startSize:"12px",endSize:"64px",interval:1e3,color:"#406ad9",callback:function(){}},e),$("body").append("<span class='cg-like-num'>"+e.str+"</span>");var t=$(".cg-like-num"),i=e.obj.offset().left+e.obj.width()/2,n=e.obj.offset().top-e.obj.height()/2-10;t.css({position:"absolute",left:i+"px",top:n+"px","z-index":9999,"font-size":e.startSize,"line-height":e.endSize,color:e.color,"font-weight":"bold"}),t.animate({"font-size":e.endSize,opacity:"0",top:n-2*parseInt(e.endSize)+"px"},e.interval,function(){t.remove(),e.callback()})},timer:null,niceIn:function(){a.timer&&(a.removeAnimationClass(),clearTimeout(a.timer)),a.addAnimationClass(),a.timer=setTimeout(function(){a.removeAnimationClass()},900)},addAnimationClass:function(){$(".J_like").find(".like-icon").addClass("niceIn")},removeAnimationClass:function(){$(".J_like").find(".like-icon").removeClass("niceIn")},addNum:function(){var e=$(".J_like"),t=e.find(".like-count"),i=parseInt(t.text().replace(/,/g,""))||0;i=i+1+"",t.text(i.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))},throttle:function(e,t){var i=Date.now();return function(){var n=this,a=arguments;Date.now()-i>=t&&(e.apply(n,a),i=Date.now())}},setDarkStyle:function(){var e=$("body").hasClass("cg-dark-mode"),t=$(".J_like .like-icon").attr("src");if(e&&t){var i=t.replace("lanshou@2x.png","lanshou-dark@2x.png");$(".J_like .like-icon").attr("src",i)}},ga:function(){window.sendWebEvent&&window.sendWebEvent("ArticleDetailsPage","fav_news"),window.ga4SendWebEvent&&window.ga4SendWebEvent("ArticleDetailsPage","fav_news")}};t.exports=a},{}],9:[function(e,t,i){arguments[4][5][0].apply(i,arguments)},{dup:5}],10:[function(e,t,i){var n=e("../../website/module/components/video.js"),a=e("./Popover/index"),o={isLiveApp:function(){var e=navigator.userAgent,t=e.indexOf("CGTN/Android")>-1,i=e.indexOf("CGTN/iOS")>-1;return t||i},getAppLiveClassName:function(){return".js-app-live-news"},getApiPrefix:function(){return $(".js-share").data("apiprefix")||"/"},getTranslateApi:function(){return $(".js-share").data("translatapi")||"/"},newsCache:[],addCache:function(e){return o.newsCache.push(e)},uniq:function(e,t){if(!e||"[object Array]"!==Object.prototype.toString.call(e))return[];var i=0,n=[];e=e||[];for(var a=0,s=e.length;a<s;a++){var r=e[a].sn;!~o.newsCache.indexOf(r)&&i<t&&(o.addCache(r),n.push(e[a]),i++)}return n},getTopNews:function(e){o.isLiveApp()||$.ajax({url:o.getApiPrefix()+"/api/news/topnews?news_from="+e,method:"get",contentType:"application/json",dataType:"json",success:function(e){if(e&&e.data){var t=o.uniq(e.data,3);if(o.renderTopNews(t),$(".linkHeader").length>0){var i=o.osSystem(),n=i.hasApp,a=i.isWeiYin,s=o.osSystem().isAndroid;n&&(o.renderAppTopNews(t),o.initTopSection(),$(".hotNews .slider").each(function(e,t){$(this).bind("click",function(e){var t=$(this).attr("data-index");window.sendWebEvent&&window.sendWebEvent("Download_App","click_top_download","icon_"+(parseInt(t)+1)),window.ga4SendWebEvent&&window.ga4SendWebEvent("Download_App","click_top_download","icon_"+(parseInt(t)+1)),o.hasInstallApp(n,s,a)})}))}}},error:function(e){console.log("error",e)}})},getMoreFrom:function(e){if(!o.isLiveApp())return $.ajax({url:o.getApiPrefix()+"/api/news/more?newsSn="+e,method:"get",contentType:"application/json",dataType:"json",success:function(e){if(e.data&&(0==e.data.length&&$(".rst-more-mainwrap .moreFrom").attr("style","display: none !important"),e.data.length>0)){$(".rst-more-mainwrap .moreFrom").attr("style","display: block !important");var t=o.uniq(e.data,4);o.renderMoreFrom(t)}},error:function(e){console.log("error",e)}})},getRelatedStories:function(e){var t=o.isLiveApp();return t&&o.handleAppLive(),$.ajax({url:o.getApiPrefix()+"/api/news/recommend?newsSn="+e,method:"get",contentType:"application/json",dataType:"json",success:function(e){if(e&&e.data){if(0==e.data.length)return void $(".rst-more-mainwrap .relatedStories").attr("style","display: none !important");$(".rst-more-mainwrap .relatedStories").attr("style","display: block !important");var i=o.uniq(e.data,3);o.renderRelatedStories(i),t&&o.renderLiveRelatedStories(i)}},error:function(e){console.log("error",e)}})},watchStatistics:function(e){var t=$(".J_news-statistics");t.length&&(o.ajaxnum++,$.ajax({url:o.getApiPrefix()+"/api/data/routineData/"+e,method:"get",contentType:"application/json",dataType:"json",success:function(e){if(e.data){var i=e.data,n="",s=".J_news-statistics .J_statistics-wrapper-0";try{for(var r=0;r<i.length;r++){var c=i[r];null!==c.text&&(n+='<div class="statistics-wrapper J_statistics-wrapper-'+r+'"><img src="'+c.icon+'" ><span class="statistics-text">'+c.text+"</span></div>")}t.append(n),$(s).length&&new a({element:s,title:"Supported by Google Analytics",trigger:"hover"}),o.ajaxnum--,o.autoplayVideoForApp()}catch(e){console.log(e)}}},error:function(e){console.log("error",e)}}))},videoList:[],ajaxnum:0,autoplayVideoForApp:function(e,t){var i,a=$("body").hasClass("android"),s=$("body").hasClass("ios");if(e&&(o.videoList=[]),$(".J_player_container_main").map(function(a,s){i=n.getVideoInfoForApp(s),e&&e===s&&(i.video_status=t),i&&o.videoList.push(i)}),o.ajaxnum)console.log("waiting for ajax finish...");else{try{a&&AndroidWebView.PlayFirstVideo(encodeURIComponent(JSON.stringify(o.videoList[0]))),s&&window.webkit.messageHandlers.PlayFirstVideo.postMessage(o.videoList[0])}catch(e){console.log(e)}try{a&&AndroidWebView.addVideoPlayer(encodeURIComponent(JSON.stringify(o.videoList[0]))),s&&window.webkit.messageHandlers.StandByPlayer.postMessage(o.videoList[0])}catch(e){console.log(e)}}},getVideoUrl:function(e){try{return e[0].video.url}catch(e){return""}},getLiveVideo:function(e){if(!($("#live-video").length<1)){$(".section").addClass("live-section").css("background","#f6a011").text("COMING UP");var t=o.getTranslateApi()+"/api/news/info?id="+e,i=$("#live-video-myOverlay").find(".play-icon");i.hide(),o.ajaxnum++,$.ajax({type:"GET",url:t,dataType:"json",success:function(t){if(200==t.status){var n=o.getVideoUrl(t.data.coverVideos),a=t.data.live&&t.data.live.status,s=t.data.live&&t.data.live.startTimeStr,r=t.data.live&&t.data.live.region;switch(s&&$(".m-top-title").find(".date").text(o.time(s)),r&&(console.log("-----region----"),console.log(r),$(".J_location").find(".text").text(r),$(".J_location").show()),parseInt(a)){case 1:$("#cg-live-image").show(),$(".section").addClass("live-section").css("background","#f6a011").text("COMING UP");break;case 2:$("#cg-live-video").show(),$("#cg-live-image").hide(),i.show(),$(".section").addClass("live-section").css("background","#e00e0e").text("LIVE"),o.renderLiveVideo(n,e,a,"LIVE");break;case 3:$("#cg-live-video").show(),i.show(),$("#cg-live-image").hide(),$(".section").addClass("live-section").css("background","#70ae29").text("REPLAY"),o.renderLiveVideo(n,e,a,"REPLAY");break;default:$("#cg-live-image").show()}}}})}},renderLiveVideo:function(e,t,i,a){function s(){v=setInterval(function(){u+=g/1e3},g)}function r(){clearInterval(v)}if(e)if($("#cg-live-image").length){var c=$("#cg-live-image").children("img").attr("src"),d=jwplayer("live-video"),l=!1,p=$(".news-title").text(),h={newsId:t,headline:p,origin:"web_list"},u=0,g=100,v=null;window.addEventListener("visibilitychange",function(t){"hidden"===document.visibilityState&&(window.sendVideoOtherEvent("video_duration",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live",dimension27:parseInt(u)}),window.ga4SendVideoOtherEvent("video_duration",h.newsId,h.headline,e,h.origin),d.play(!1),u=0)}),d.setup({file:e,image:c,stretching:"fill",width:"100%",aspectratio:"16:9",androidhls:!0,autostart:!1,primary:"html5",events:{onPlay:function(){window.CMSVideo.pauseOthers($(this)[0].id)}}}).on("play",function(t){l||(l=!0,console.log("played",t),window.sendVideoPlayEvent(h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoPlayEvent(h.newsId,h.headline,e,h.origin)),s()}).on("fullscreen",function(t){console.log("fullscreen: ",t);var i=t.fullscreen?"full_screen":"exit_full_screen";window.sendVideoOtherEvent(i,h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent(i,h.newsId,h.headline,e,h.origin)}).on("complete",function(t){console.log("complete : ",t),window.sendVideoOtherEvent("complete",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent("complete",h.newsId,h.headline,e,h.origin),r()}).on("pause",function(t){console.log("pause: ",t,"Live"),window.sendVideoOtherEvent("pause",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent("pause",h.newsId,h.headline,e,h.origin),r()}).on("levelsChanged",function(t){var i=t.currentQuality,n=t.levels[i].label;console.log("HD: ",t),window.sendVideoOtherEvent("video_quality",h.newsId,h.headline,e,h.origin,{dimension41:n,dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent("video_quality",h.newsId,h.headline,e,h.origin)}).on("volume",function(t){console.log("volume",t),window.sendVideoOtherEvent("volume",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent("volume",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"})}).on("mute",function(t){console.log("mute",t),window.sendVideoOtherEvent("volume",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent("volume",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"})}).on("seek",function(t){console.log("back",t),window.sendVideoOtherEvent("back",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"}),window.ga4SendVideoOtherEvent("back",h.newsId,h.headline,e,h.origin,{dimension21:a,dimension44:"Live"})})}else document.getElementById("live-video").setAttribute("data-video",e),document.getElementById("live-video-myOverlay").setAttribute("data-video",e),n.run&&n.run(a),n.livePlayer&&n.livePlayer(a),o.ajaxnum--,o.autoplayVideoForApp(document.getElementById("live-video-myOverlay"),a)},getAppLiveTabClass:function(){return".app-live-tab-content"},sendAndroidMessage:function(e){if(navigator.userAgent.indexOf("CGTN/Android")>-1)try{AndroidWebView.onLiveSelect(e)}catch(e){console.log("sendAndroidMessage",e)}},handleAppLive:function(){function e(){var e=$(a).height(),n=$(t);$(document).scrollTop()>=e?n.hasClass(i)||n.addClass(i):n.removeClass(i)}var t=".app-live-tab",i=(o.getAppLiveTabClass(),"app-live-tab-fixed"),a=".cmsVideo",s=$(t).children();s.eq(0).bind("click",function(){s.eq(1).removeClass("active"),$(this).addClass("active"),$(".tab-information").show(),$(".tab-recommend").hide(),o.sendAndroidMessage(1)}),s.eq(1).bind("click",function(){s.eq(0).removeClass("active"),$(this).addClass("active"),$(".tab-information").hide(),$(".tab-recommend").show(),n.pauseAll(),o.sendAndroidMessage(2)}),e(),$(document).scroll(function(t){e()})},renderTopNews:function(e){var t="";e.forEach(function(e){e.newsCategory="TOP NEWS",t+='<div class="top-news-list">'+o.getGeneralVerticalSmall(e)+"</div>"});var i=$('<div class="js-topNews">'+o.title("TOP NEWS")+t+"</div>");$(".topNews").append(i),o.resize(),o.changeImgs(),o.analyticNews("js-topNews")},renderRelatedStories:function(e){function t(t,i){var a="",s="js-relatedStories",r="detail-related-first",c="detail-related-list";return t?(s="js-relatedStories js-relatedStories-for-pad",r="detail-related-first-for-pad",c="detail-related-list-for-pad"):(s="js-relatedStories",r="detail-related-first",c="detail-related-list"),a='<div class="'+r+'">\n'+o.getGeneralHorizontalBig(i)+"</div>",e.forEach(function(e){e.newsCategory=n,a+='<div class="'+c+'">'+o.getGeneralVerticalSmall(e)+"</div>"}),{html:a,className:s}}var i=window.matchMedia("(min-width: 768px) and (max-width: 1260px)").matches&&"none"==$(".moreFrom").css("display")&&"block"==$(".relatedStories").css("display"),n="RELATED STORIES",a=e.shift(),s="";s=t(i,a);var r=$('<div class="'+s.className+'">'+o.title(n)+s.html+"</div>");$(".relatedStories").append(r),o.resize(),o.changeImgs();var c;$(window).resize(function(){clearTimeout(c),c=setTimeout(function(){var e=window.matchMedia("(min-width: 768px) and (max-width: 1260px)").matches&&"none"==$(".moreFrom").css("display")&&"block"==$(".relatedStories").css("display");if(e!==i){i=e,$(".relatedStories").empty();var s=t(i,a),r=$('<div class="'+s.className+'">'+o.title(n)+s.html+"</div>");$(".relatedStories").append(r),o.resize(),o.changeImgs()}},250)})},renderMoreFrom:function(e){function t(t,i){var a="",s="js-moreform",r="detail-moreform-first",c="detail-moreform-list";return t?(s="js-moreform-for-pad",r="detail-morefrom-for-pad",c="detail-moreform-list-for-pad"):(s="js-moreform",r="detail-moreform-first",c="detail-moreform-list"),a='<div class="'+r+'">\n'+o.getGeneralHorizontalBig(i)+"</div>",e.forEach(function(e,t){e.newsCategory=n,a+='<div class="'+c+'">\n'+o.getGeneralVerticalSmall(e,t)+" </div>\n"}),{html:a,className:s}}var i=window.matchMedia("(min-width: 768px) and (max-width: 1260px)").matches&&"none"==$(".relatedStories").css("display")&&"block"==$(".moreFrom").css("display"),n="MORE FROM CGTN",a=e.shift();a.newsCategory=n;var s="";s=t(i,a);var r=$('<div class="'+s.className+'">'+o.title(n)+s.html+"</div>");$(".moreFrom").append(r),o.resize(),o.changeImgs(),o.analyticNews("js-moreform");var c;$(window).resize(function(){clearTimeout(c),c=setTimeout(function(){
var e=window.matchMedia("(min-width: 768px) and (max-width: 1260px)").matches&&"none"==$(".relatedStories").css("display")&&"block"==$(".moreFrom").css("display");if(e!==i){i=e,$(".moreFrom").empty();var s=t(i,a),r=$('<div class="'+s.className+'">'+o.title(n)+s.html+"</div>");$(".moreFrom").append(r),o.resize(),o.changeImgs(),o.analyticNews(s.className)}},250)})},renderLiveRelatedStories:function(e){var t=$(".js-app-live-news");if(t.length&&o.isLiveApp()){var i="";e.forEach(function(e){i+='<div class="relatedstories-item-vertical col-xs-60 cg-margin">\n'+o.getAppLiveVerticalSmall(e)+'<div class="cg-app-live-title"><h3>'+o.link(e,4)+"</h3></div>\n</div>\n"}),t.find(".js-live-relatedstories-vertical").append(i),o.resize(),o.changeImgs()}},getAppLiveHorizontalSmall:function(e){o.analyticNews(JS_CLASSNAME)},getAppLiveVerticalSmall:function(e){var t="",i="",n=e.liveInfo.status,a=e.type,s=e.liveInfo&&e.liveInfo.region,r=e.liveInfo&&e.liveInfo.startTimeStr||e.publishTime;if(n&&6==a){var c,d;switch(n){case 1:c="COMMING UP",d="cg-interrupt-flag";break;case 2:c="LIVE",d="cg-started-flag";break;case 3:c="REPLAY",d="cg-stoped-flag"}i='<span class="cg-live-status '+d+'">'+c+"</span>\n"}t=s?'<div class="cg-live-location"><div class="location-icon"></div><p class="location">'+s+"</p></div>\n":"";var l=' <div class="cg-app-live-description col-sm-30 col-xs-30">'+i+'        <div class="cg-live-time"><div class="time-icon"></div><p>'+o.time(r)+"</p></div>\n"+t+"</div>";return'<div class="cg-ge-ve-sm cg-newsWrapper cg-app-live-vertical"><div class="cg-pic cg-com-zwt">\n'+o.link(e,2)+"</div>"+l+"</div>"},analyticNews:function(e){var t=$(".js-share").data("id");$("."+e+" .js-newsWrapper a").each(function(e,i){"Related_News"==$(i).attr("data-type")&&$(i).bind("click",function(e){var n=$.trim($(i).attr("data-label")),a=$(i).attr("data-news-id"),o=$(i).attr("data-list");window.sendWebEvent&&window.sendWebEvent("ArticleDetailsPage","News_Click","Related_News",{dimension1:a,dimension2:n,dimension20:t,dimension16:o}),window.ga4SendWebEvent&&window.ga4SendWebEvent("ArticleDetailsPage","News_Click","Related_News")})})},getGeneralVerticalSmall:function(e,t){return'<div class="cg-newsWrapper js-newsWrapper">'+(e.liveStatus?'<div class="cg-pic cg-com-zwt">\n'+o.link(e,1)+"</div>":1!=e.coverType?'<div class="cg-video cg-com-zwt">\n'+o.link(e,3)+"</div>":'<div class="cg-pic cg-com-zwt">\n'+o.link(e,2)+"</div>")+' <div class="cg-content-description one">        <div class="cg-title"><span class="cg-title-num">'+(t+2)+'</span><h3 class="cg-title-main">'+o.link(e,4)+'</h3></div>\n        <div class="cg-info">\n            <div class="cg-newsCategory"><p>'+(e.property||"")+'</p></div>\n            <div class="cg-time"><p>'+o.time(e.publishTime)+"</p></div>\n        </div>\n</div></div>"},getGeneralHorizontalBig:function(e){if(void 0===e)return"";return'<div class="cg-newsWrapper js-newsWrapper">'+(e.liveStatus?'<div class="cg-pic-big cg-com-zwt ">\n'+o.link(e,1)+" </div>":1!=e.coverType?'<div class="cg-video cg-com-zwt ">\n'+o.link(e,3)+"</div>":'<div class="cg-pic-big cg-com-zwt ">\n'+o.link(e,2)+"</div>")+'<div class="cg-title cg-title-first"><span class="cg-title-num">1</span><h3 class="cg-title-main">'+o.link(e,4)+"</h3></div></div>"},link:function(e,t){var i;switch(t){case 1:var n,a="";switch(e.liveStatus){case 1:a="COMMING UP",n="cg-interrupt-flag";break;case 2:a="LIVE",n="cg-started-flag";break;case 3:a="REPLAY",n="cg-stoped-flag"}i='<img class="lazy" data-original="'+e.coverImg[0].url+'" />\n                <div class="cg-tag">\n                        <div class="'+n+'">\n                            <h3>'+a+"</h3>\n                            <h5>Started: "+o.time(e.liveStartTime)+"</h5>\n                        </div>\n                </div>\n";break;case 2:i='<img data-width="'+e.coverImgMultiRatio.r_16_9.quality_max.width+'"  data-original="'+e.coverImgMultiRatio.r_16_9.quality_max.url+'"  alt="'+(null==e.shortHeadline?"":e.shortHeadline)+'"  src="" />';break;case 3:i='<div class="cg-video-link-wrapper"><div class="play-icon"\n role="button"  tabindex="0"></div><div class="video-control-wrapper"></div><img  data-width="'+e.coverImgMultiRatio.r_16_9.quality_max.width+'"  data-original="'+e.coverImgMultiRatio.r_16_9.quality_max.url+'" alt="'+(null==e.shortHeadline?"":e.shortHeadline)+'"  src=""/></div>';break;case 4:i=e.shortHeadline}return'<a href="'+e.shareUrl+'" target="_blank" data-category="Home" data-action="News_Click" data-type="Related_News" data-label="'+e.shortHeadline+'" data-list="'+e.newsCategory+'" data-position="" data-news-id="'+e.sn+'" data-time="'+e.publishTime+'">'+i+"</a>"},time:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=new Date(parseInt(e)),n=i.getFullYear(),a=i.getMonth(),o=i.getDate(),s=i.getHours(),r=i.getMinutes();return 0<=s&s<10&&(s="0"+s),0<=r&r<10&&(r="0"+r),0<=o&o<10&&(o="0"+o),s+":"+r+", "+o+"-"+t[a]+"-"+n},border:function(){return'<div class="cg-row-border"></div>'},title:function(e){return'<div class="cg-right-title">\n        <h2 class="cg-title-content">'+e+"</h2>\n    </div>"},resize:function(){$(".cg-ge-ve-sm .cg-pic, .cg-ge-ve-sm .cg-video, .cg-ge-ho-sm .cg-pic, .cg-ge-ho-sm .cg-video").each(function(e,t){$(t).resize(function(){if($("body").width()+18<670){var e=$(t).height();$(t).next().css({height:e})}else $(t).next().removeAttr("style")})})},isImg:function(e,t,i){var n=new Image;n.onload=function(){1==this.complete&&i(e)},n.onerror=function(){i(t)},n.src=e},typeImgs:function(e,t){return/^(\S+(?=\-\d+))(\-\d+)\.([a-z]{1,})$/gim.test(e)?e.replace(/^(\S+(?=\-\d+))(\-\d+)\.([a-z]{1,})$/gim,"$1-"+t+".$3"):/^(\S+(?!\-\d+))\.([a-z]{1,})$/gim.test(e)?e.replace(/^(\S+(?!\-\d+))\.([a-z]{1,})$/gim,"$1-"+t+".$2"):e},changeImgs:function(){var e=this;$(".cg-pic, .cg-video, .cg-pic-big").each(function(t,i){var n=$(i)[0].offsetWidth,a=$(i).find("img"),o=a.attr("data-original"),s=Number(a.attr("data-width"));if(n<=250){var r;s>n&&s>250?(r=e.typeImgs(o,250),e.isImg(r,o,function(e){a.attr("src",e)})):a.attr("src",o)}else if(n>250&&n<=750){var c;s>n&&s>750?(c=e.typeImgs(o,750),e.isImg(c,o,function(e){a.attr("src",e)})):a.attr("src",o)}else if(n>750&&n<=1280){var d;s>n&&s>1280?(d=e.typeImgs(o,1280),e.isImg(d,o,function(e){a.attr("src",e)})):a.attr("src",o)}else if(n>1280&&n<=1920){var l;s>n&&s>1920?(l=e.typeImgs(o,1920),e.isImg(l,o,function(e){a.attr("src",e)})):a.attr("src",o)}else n>1920&&a.attr("src",o)})},initTopSection:function(){$(".hotNews .hotNews-container").slick({dots:!0,slidesToShow:1,slideToScroll:1,autoplay:!0,autoplaySpeed:5e3,infinite:!0,initialSlide:0,lazyLoad:"ondemand",zIndex:10,focusOnSelect:!0,arrows:!1})},toJumpAPP:function(e,t,i){if(t)window.location.href=e;else{if(!i){var n="";n=$('.linkHeader input[name="shareUrl"]').val(),n||(n=window.location.href),n=n.replace("https://","cgtn://"),$("body").append('<a href="'+n+'" id="jumpAPP"></a>'),$("#jumpAPP")[0].click(),$("#jumpAPP").remove()}window.setTimeout(function(){$("body").append('<a href="'+e+'" id="jumpAPP"></a>'),$("#jumpAPP")[0].click(),$("#jumpAPP").remove()},500)}},hasInstallApp:function(e,t,i){var n=this,a=$('.linkHeader input[name="weiYinUrl"]').val();if(e){var o="",s=window.isOutside?window.isOutside:"inside",r=!(t>-1),c="";c=$('.linkHeader input[name="shareUrl"]').val(),c||(c=window.location.href),"inside"==s&&t>-1&&i?(o=a+"/download/CGTN.html?data="+c,n.toJumpAPP(o,!0,r)):(c=c.replace(":","%3A").replace("/","%2F"),o="inside"!==s?"https://cgtnapp.onelnk.com/KCzn?pid=mobilewebsite0&af_web_dp=https%3A%2F%2Fwww.cgtn.com%2F&portal_type=0&af_dp="+c+"&deep_link_value=haiwai":"https://cgtn.onelink.me/12914159?pid=detail&c=detail&deep_link_value=detail&af_web_dp=https%3A%2F%2Fwww.cgtn.com%2F&portal_type=0&af_dp="+c,n.toJumpAPP(o,!1,r))}},isApp:function(){var e=$(".js-share").data("id"),t=o.osSystem(),i=t.hasApp,n=t.isWeiYin,a=o.osSystem().isAndroid;i&&($(".hotNews").css({display:"block"}),$(".turnToAppStore").css({display:"block"}),$(".searchTrends").css({display:"block"}),$(".cg-min-footer").css({display:"none"}),$(".cg-share-page").css({"max-height":"45.8rem",overflow:"hidden"}),$(".cg-share-page .topNews").css({display:"none"}),$(".cg-share-page .relatedStories").css({display:"none"}),$(".cg-share-page .moreFrom").css({display:"none"}),$(".openAppBtn .doubleArrow").on("click",function(){$(".cg-share-page").css({"max-height":"none",overflow:"visible"}),$(".turnToAppStore").css({display:"none"})}),$(".translate-share .tr-m-list").css({top:"0"}),$(".openAppBtn .openBtn").bind("click",function(e){window.sendWebEvent&&window.sendWebEvent("Download_App","open_app"),window.ga4SendWebEvent&&window.ga4SendWebEvent("Download_App","open_app"),o.hasInstallApp(i,a,n)}),o.getAppBanner(),o.getKeyWordsForApp(e))},renderAppTopNews:function(e){var t="";e.forEach(function(e,i){var n=e.coverImgMultiRatio.r_16_9?e.coverImgMultiRatio.r_16_9.quality_max.url:e.coverImgMultiRatio.r_0_0.quality_max.url,a=e.shortHeadline?e.shortHeadline:"";t+='<div class="slider item" data-index="'+(i+1)+'"><div class="coverImg"><img  src="'+n+'" alt="'+a+'"  ></div><p class="headline">'+e.shortHeadline+'</p><div class="viewMore">View More</div></div>'}),$(".hotNews .hotNews-container").append(t)},getAppBanner:function(){$.ajax({url:o.getApiPrefix()+"/api/news/banner",method:"get",contentType:"application/json",dataType:"json",success:function(e){if(200==e.status){var t=e.data,i="";i+='<div class="appBanner cg-com-zwt"><img class="lazy" src="'+t+'"/></div>',$(".searchTrends .banner").append(i);var n=o.osSystem(),a=n.hasApp,s=n.isWeiYin,r=o.osSystem().isAndroid;$(".searchTrends .banner").bind("click",function(e){window.sendWebEvent&&window.sendWebEvent("Download_App","click_picture_download"),window.ga4SendWebEvent&&window.ga4SendWebEvent("Download_App","click_picture_download"),o.hasInstallApp(a,r,s)})}else console.log("error")},error:function(e){console.log("error",e)}})},getKeyWordsForApp:function(e){$.ajax({url:o.getApiPrefix()+"/api/property/bySection?newsSn="+e,method:"get",contentType:"application/json",dataType:"json",success:function(e){if(200==e.status){var t=e.data;o.renderKeywordsList(t);var i=o.osSystem(),n=i.hasApp,a=i.isWeiYin,s=o.osSystem().isAndroid;$(".searchTrends .item").each(function(e){$(this).bind("click",function(t){window.sendWebEvent&&window.sendWebEvent("Download_App","click_search_trends","icon_"+(e+1)),window.ga4SendWebEvent&&window.ga4SendWebEvent("Download_App","click_search_trends","icon_"+(e+1)),o.hasInstallApp(n,s,a)})})}else console.log("error")},error:function(e){console.log("error",e)}})},renderKeywordsList:function(e){var t="";e.forEach(function(e){t+='<li class="item"><a><div class="btn"><span class="words">'+e.name+'</span><span class="hits">10k+</span></div></a ></li >'}),$(".hotKeywords .keywordList").append(t)},osSystem:function(){var e=navigator.userAgent,t=e.indexOf("Android");return{hasApp:!!(/(iPhone|iPod|IOS)/i.test(e)||t>-1||e.indexOf("Linux")>-1&&e.indexOf("UOS")<0),isAndroid:t,isWeiYin:e.toLowerCase().indexOf("micromessenger")>-1}}};t.exports=o},{"../../website/module/components/video.js":16,"./Popover/index":9}],11:[function(e,t,i){var n={langList:[{key:"en",name:"English",nameGA:"English"},{key:"es",name:"Espaol",nameGA:"Espana"},{key:"fr",name:"Franais",nameGA:"French"},{key:"ar",name:"",nameGA:"Arabic"},{key:"ru",name:"P",nameGA:"Russian"},{key:"de",name:"Deutsch",nameGA:"Deutsch"},{key:"ja",name:"",nameGA:"Japan"}],warningText:"Content is automatically generated by Microsoft Azure Translator Text API. CGTN is not responsible for any of the translations."},a={init:function(e){if($("body").hasClass("web")){var t=($($(".cg-main-container").children()[0]).children()[1],$(".news-date-left")[0]),i=$(".J_translate-main");$(t).after(a.getLangListHtml()),$(i).after(a.getWarningHtml()),a.registerTranslate(e)}},getLangListHtml:function(){return'<div class="translate-wrapper"><div class="translate-share"><a href = "javascript:;" class="tr-logo J_tr_logo cur-ele" ><span class="tr-title cur-ele">Translate</span></a ><div class="tr-list J_translate_share cur-ele"><span class="tr-trangel cur-ele"></span><div class="tr-item-main cur-ele">'+a.getItems()+"</div ></div ></div>"},getWarningHtml:function(){return'<div class="translare-warning-wrapper translare-warning-tab"><div class="translate-warning"><div class="icon-warning"></div><div class="warning-info"><div class="translating J_share_translating"><h4 class="warning-title">Translating...</h4><div class="warning-loader warning-loader-dot"><div class="dot dot1"></div><div class="dot dot2"></div><div class="dot dot3"></div><div class="dot dot4"></div></div></div><p class="warning-text">'+n.warningText+'</p><div class="ts-mic-icon"></div></div></div>'},getItems:function(){for(var e="",t=n.langList,i=0;i<t.length;i++){var a=t[i];e+='<a class="item '+(i?"":"active")+'" href="javascript:;" data-index="'+i+'" data-ga="'+a.nameGA+'" data-tr="'+a.key+'">'+a.name+"</a>"}return e},registerTranslate:function(e){function t(t){var n=$(t.target);if(n.hasClass("item")){var r=n.data("tr"),c=n.data("index");i(c),"en"==r?($(o).hide(),$(a).hide()):($(o).show(),$(a).show()),window.translateWebNews&&window.translateWebNews(e,r,"microsoft",function(){$(o).hide(),s=c},function(e){$(o).hide(),$(a).hide(),i(s)})}}function i(e){$($(".tr-item-main").children(".item")).removeClass("active"),$($(".tr-item-main").children(".item")[e]).addClass("active")}var n=$(".J_translate_share");if(n.length>0){var a=".translare-warning-wrapper",o=".J_share_translating",s=(n.children(".item"),0);$(".J_translate_share").on("click",function(e){t(e),"item "==$(e.target).attr("class")&&$(".J_translate_share").hide()}),$(".J_news-share-icon").on("click",function(e){$(".J_share-icon-lists").show(),$(".J_translate_share").hide(),$(".js-share-img").hide()}),$($(".J_tr_logo")).on("click",function(e){$(".J_share-icon-lists").hide(),$(".J_translate_share").show()}),$(document).on("click",function(e){e.target.className.indexOf("cur-ele")<=-1&&($(".J_translate_share").hide(),$(".J_share-icon-lists").hide())})}}};t.exports=a},{}],12:[function(e,t,i){t.exports={init:function(){$(".warningInfo").length?(console.log("preview"),this.run()):console.log("production")},run:function(){function e(e,t,i,n){var a=$(document).scrollTop();n>=1280?($(".warningInfo.app.fixed")[0].style.display="none",a>=e?($(".warningInfo.web.fixed")[0].style.display="block",$(".warningInfo.web.fixed")[0].style.top=t+"px"):$(".warningInfo.web.fixed")[0].style.display="none"):n>768?($(".warningInfo.app.fixed")[0].style.display="none",a>0?($(".warningInfo.web.fixed")[0].style.display="block",$(".warningInfo.web.fixed")[0].style.top=i+"px"):$(".warningInfo.web.fixed")[0].style.display="none"):($(".warningInfo.web.fixed")[0].style.display="none",$(".warningInfo.app.fixed")[0].style.display=a>0?"block":"none")}function t(e){e<1020?$(".warningInfo.web").each(function(t,i){$(i).css("font-size",e/1010*24+"px")}):$(".warningInfo.web").each(function(e,t){$(t).css("font-size","24px")})}var i=$(window).width();e(0,0,0,i),t(i),$(document).scroll(function(t){e(0,0,0,i)}),$(window).on("resize",function(){i=$(window).width(),e(0,0,0,i),t(i)})}}},{}],13:[function(e,t,i){function n(e){var t=$('.cmsImage:not(".slick-cloned")').index($(e)),i=[];return $('.cmsImage:not(".slick-cloned")').each(function(e,t){var n=$(t).find("img")[0]||{},a=n.src,o=$(t).find(".title")[0],s=o&&o.innerHTML||"";i.push({caption:s,src:a})}),{photojson:i,position:t}}var a=[e("./m-content.js")];window.translateNewsOuter=function(e,t,i){translateNews(e,t,i)},window.afterTranslateRenderOuter=function(){afterTranslateRender()},window.renderWithContentJsonOuter=function(e,t){renderWithContentJson(e,t)};var o=navigator.userAgent,s=o.indexOf("Android")>-1||o.indexOf("Adr")>-1,r=!!o.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),c=document.createElement("iframe");c.style.display="none",c.id="messagingIframe",document.documentElement.appendChild(c),window.language="",window.translateNews=function(e,t,i,n,a){window.language=t;var o=$("#cmsMainContent")[0].dataset.mapiurl;console.log(o),$.ajax({url:o+"/api/translate/getInfo",method:"get",contentType:"application/json",data:{id:e,language:t,engine:i},dataType:"json",success:function(e){200==e.status?e.data&&($("#cmsMainContent")[0].dataset.json=e.data,$("#cmsMainContent")[0].dataset.language=t,s?(afterTranslateRender(),AndroidWebView.getTranslateStatus("true","")):r?t==window.language&&(c.src='cgtn://news/info/translate?{"result":true}'):("function"==typeof n&&n(),afterTranslateRender())):(console.log(e.message),r?t==window.language&&(c.src='cgtn://news/info/translate?{"result":true,"message":'+e.message+"}"):s?AndroidWebView.getTranslateStatus("true",e.message):"function"==typeof a&&a())},error:function(e){console.log(e),r?c.src='cgtn://news/info/translate?{"result":false}':s&&AndroidWebView.getTranslateStatus("false","")}})},window.translateWebNews=function(e,t,i,n,a){window.language=t;var o=$("#cmsMainContent")[0].dataset.mapiurl;console.log(o),$.ajax({url:o+"/api/translate/getInfo",method:"get",contentType:"application/json",data:{id:e,language:t,engine:i},dataType:"json",success:function(e){200==e.status?e.data&&($("#cmsMainContent")[0].dataset.json=e.data,$("#cmsMainContent")[0].dataset.language=t,"function"==typeof n&&n(),afterTranslateRender()):"function"==typeof a&&a()},error:function(e){"function"==typeof a&&a()}})},window.pauseAudioToiOS=function(){var e=Date.parse(new Date);c.src="cgtn://news/info/audio/click?"+e},window.afterTranslateRender=function(){a[0].run(),c.src="cgtn://news/info/layout/html/recalculate"},s?(console.log("ANDROID"),$("#cmsMainContent").on("click",".cmsImage",function(e){if(this.dataset.pichref&&""!=this.dataset.pichref){var t=this.dataset.pichref;if(t.match(/https:\/\/(\S*).cgtn.com\/news\/(\S*)\/share(\S*).html/)){e.preventDefault();var i=t.match(/https:\/\/(\S*).cgtn.com\/news\/(\S*)\/share(\S*).html/)[2];console.log(i),AndroidWebView.openOriginalNewsForAndroid(i)}}else{var a=n(this),o=JSON.stringify(a.photojson),s=a.position.toString();console.log(o),console.log(s),AndroidWebView.clickPhotosForAndroid(o,s)}})):r?(console.log("IOS"),$("#cmsMainContent").on("click",".cmsImage",function(e){if(!this.dataset.pichref){var t=n(this)||{},i=t.position.toString();t.index=i;var a=JSON.stringify(t);console.log("cgtn://news/info/picture/click?"+a),c.src="cgtn://news/info/picture/click?"+a}})):console.log("browser page")},{"./m-content.js":14}],14:[function(e,t,i){function n(){$(".cmsImagesCollection").each(function(e,t){var i=$(t).find("img")[0];i&&(i.onload=function(){$(".cmsImagesCollection").length>0&&$(".m-slick").slick({dots:!1,adaptiveHeight:!0})})})}var a=e("../website/module/components/video.js"),o=e("../web_share/components/m-news.js");t.exports={run:function(){var e=function(e,t){return'<div class="imageCaption"><div class="title visibility-hide" >'+t+'</div><div class="caption" style="background:url('+e+');background-repeat: no-repeat;background-position:bottom;background-size: cover;"></div><div class="wrapper-visible" title="'+t+'" ><p class="title">'+t+"</p></div></div>"},t=function(e){var t=Math.round(e),i=0,n=0;t>60&&(i=parseInt(t/60),t=parseInt(t%60),i>60&&(n=parseInt(i/60),i=parseInt(i%60)));var a=t<10?"0"+t:t;return a=i>0&&i<10?"0"+parseInt(i)+":"+a:0==i?"00:"+a:i+":"+a,n>0&&n<10?a="0"+parseInt(n)+":"+a:n>10&&(a=n+":"+a),a},i=function(e,i,n,a,o,s,r,c,d,l){return"live-video"!=e&&(e+=(new Date).getTime()),c=parseInt(c)?t(c):"",'<div class="cg-video-wrapper cg-pic-big3" ><div class="cg-player-container" data-ratio="'+a+'" data-news-id="'+o.newsId+'" data-title="'+o.longHeadline+'" data-origin="'+r+'"><div class="cg-player-position"><div id="'+e+'" class="cg-video-main" data-video ="'+i+'" data-is360="'+d+'" data-poster="'+n+'"></div><div id="'+e+'-myOverlay"  data-video ="'+i+'" data-is360="'+d+'"  data-newsid="'+o.newsId+'" data-poster="'+n+'" data-is4k="'+l+'" class="click-to-play-overlay J_player_container_main"><div class="video-control-wrapper"></div><div class="play-icon" role="button" tabindex="0"></div><div class="duration-time">'+c+'</div><img src="'+n+'" ></div></div></div></div>'};if(function(t){for(var n=$("#"+t)[0].dataset.url,a=$("#"+t)[0].dataset.language?"cg-"+$("#"+t)[0].dataset.language:"en",o=JSON.parse($("#"+t)[0].dataset.json),s="",r=0;r<o.length;r++){var c=o[r],d=c.content?c.content:"";switch(c.type){case 1:s+='<div class="text '+a+'"><p>'+d+"</p></div>";break;case 3:var l=d.text?d.text:"",p=d.source?"&nbsp; -&nbsp;"+d.source:"",h="";p&&(h='<div class="reference-source">'+p+"</div>"),s+='<div class="reference-wrapper"><div class="reference '+a+'"><div class="referenceContent">'+l+"</div></div>"+h+"</div>";break;case 4:var u=c.content,g=u[0].url,v=u[0].caption,m=u[0].href,w=v?e(g,v):"";s+=m?""==m?'<div class="cmsImage"><img src="'+g+'" alt="'+v+'"  width="100%">'+w+"</div>":'<div class="cmsImage" data-pichref="'+m+'"><a href="'+m+'"><img src="'+g+'" alt="'+v+'"  width="100%">'+w+"</a></div>":'<div class="cmsImage"><img src="'+g+'" alt="'+v+'" width="100%">'+w+"</div>";break;case 5:var f="",y=c.content;f+='<div class="cmsImagesCollectionOuter">',f+='<div class="cmsImagesCollection">',f+='<div class="m-slick">';for(var b=0;b<y.length;b++){f+='<div class="cmsImage">',f+='<img src="'+y[b].url+'" />';var v=y[b].caption;v&&(f+=e(y[b].url,v)),f+="</div>"}f+="</div>",f+="</div>",f+="</div>",s+=f;break;case 6:var S="",_=c.content[0],A=(_.poster.height||9)/(_.poster.width||16),C=A>1?"ng-short-video":"";C=1==A?"ng-square-video":"";var k=$("#cmsMainContent")[0].dataset.id;S+='<div class="cmsVideo cg-pic-big3 '+C+'" >',S+=i(_.uuid,_.video.url,_.poster.url,_.poster.width+":"+_.poster.height,{newsId:k,longHeadline:""},"","detail",_.video.duration,_.is360,_.is4k),S+="</div>",s+=S;break;case 7:var E="",T=c.content,L=T.coordinates,x=T.city||"",I=T.distance||"",O=Date.parse(new Date),N=Math.floor(900*Math.random())+100,W=[{name:"",value:""},{name:"Beijing",value:JSON.stringify({lng:116.407113,lat:39.904636})},{name:"Hong Kong",value:JSON.stringify({lng:114.163825,lat:22.276284})},{name:"Tokyo",value:JSON.stringify({lng:139.653023,lat:35.80412})},{name:"Istanbul",value:JSON.stringify({lng:28.966854,lat:41.008346})},{name:"New Delhi",value:JSON.stringify({lng:77.209326,lat:28.621342})},{name:"Singapore",value:JSON.stringify({lng:103.868303,lat:1.35626})},{name:"Damascus",value:JSON.stringify({lng:36.277402,lat:33.514484})},{name:"Baghdad",value:JSON.stringify({lng:44.362426,lat:33.311953})},{name:"Islamabad",value:JSON.stringify({lng:73.092779,lat:33.733666})},{name:"Seoul",value:JSON.stringify({lng:126.991259,lat:37.552498})},{name:"Brussel",value:JSON.stringify({lng:4.351699,lat:50.851299})},{name:"Moscow",value:JSON.stringify({lng:37.605008,lat:55.761838})},{name:"Canberra",value:JSON.stringify({lng:149.134178,lat:-35.278414})},{name:"Cairo",value:JSON.stringify({lng:31.235118,lat:30.043437})},{name:"Nairobi",value:JSON.stringify({lng:36.819586,lat:-1.290043})},{name:"Johannesburg",value:JSON.stringify({lng:28.051057,lat:-26.198397})},{name:"Washington,D.C.",value:JSON.stringify({lng:-77.034138,lat:38.990387})},{name:"Los Angeles",value:JSON.stringify({lng:-118.256581,lat:34.053184})},{name:"Rio de janeiro",value:JSON.stringify({lng:-43.17849,lat:-22.916232})}];if(L&&1==L.length){var M=W;E+='<div class="cmsMap"><div id="'+N+O+'CMSMap" contenteditable="false" style="height:300px;"></div><div class="cmsMapCaption" contenteditable="false"><select class="mapChooseArea" >';for(var b=0;b<M.length;b++){var P=M[b].name==x?'selected="selected"':"";E+="<option value='"+M[b].value+"'"+P+">"+M[b].name+"</option>"}E+='</select><span class="mapDistance">'+I+"</span></div></div>"}else E+='<div class="cmsMap"><div id="'+O+'CMSMap" contenteditable="false" style="height:300px;"></div></div>';var j=$(E);j[0].dataset.geometry=JSON.stringify(T),s+=j[0].outerHTML;break;case 8:s+='<div class="deepLearning '+a+'"><p class="deepLearningHeader">'+(c.content.title?c.content.title:"")+"</p>"+(c.content.content?c.content.content:"")+"</div>";break;case 13:$("body").prop("className");if(!$("body").hasClass("web")&&!$("body").hasClass("androidbrowser")&&!$("body").hasClass("iOSBrowser")){var D=c,J="";1==D.content.transType?J+='<div class="cmsTrans"><div class="cmsTransTop"><img src="'+n+'/m_resources/images/icon/warning.png" /><p>'+D.content.text+'</p></div> <div class="cmsTransBot"><img src="'+n+'/m_resources/images/icon/googleTrans.png" /></div> </div>':2==D.content.transType&&(J+='<div class="cmsTrans"><div class="cmsTransTop"><img src="'+n+'/m_resources/images/icon/warning.png" /><p>'+D.content.text+'</p></div> <div class="cmsTransBot"><img src="'+n+'/m_resources/images/icon/microTrans.png" /></div> </div>'),s+=J}break;case 15:var R="",V=d.url.split("/"),F=V[V.length-1].replace(".mp3",""),z=navigator.userAgent,H=z.indexOf("DarkMode")>-1,U=H?"dark":"";R+='<div class="audio-wrapper">\n                <div id="'+F+'" class="audio-item">\n                    <audio filename="'+d.caption+'">\n                        <source src="'+d.url+'" type="audio/mp3">\n                    </audio>\n                    <div class="audio-left">\n                        <img  class="audio-img audio-play" src="https://ui.cgtn.com/ui/audio/image/'+U+'icon1@x2.png">\n                    </div>\n                    <div class="audio-right">\n                        <p>'+d.caption+'</p>\n                        <div class="progress-bar-bg progressBarBg" >\n                            <span class="progressDot"></span>\n                            <div class="progress-bar progressBar" ></div>\n                        </div>\n                        <div class="audio-time">\n                            <span class="audio-length-current audioCurTime" >00:00</span>\n                            <span class="audio-length-total"></span>\n                        </div>\n                    </div>\n                </div>\n            </div>',s+=R;break;case 16:if($(".app-live-tab-content").length)break;var S="",_=c.content[0],k=$("#cmsMainContent")[0].dataset.id;S+='<div class="cmsVideo" >',S+=i("live-video","",_.poster.url,_.poster.width+":"+_.poster.height,{newsId:k,longHeadline:""},"","detail","0","false","false"),S+="</div>",s+=S;break;case 18:s+='<iframe src="'+c.content[0].pageUrl+'" width="100%" height="700" frameborder="0" scrolling="no" name="chart" ></iframe>';break;case 19:var S="",_=c.content[0],A=(_.poster.height||9)/(_.poster.width||16),C=A>1?"ng-short-video":"";C=1==A?"ng-square-video":"";var k=$("#cmsMainContent")[0].dataset.id;S+='<div class="cmsVideo cg-pic-big3 '+C+'" >',S+=i(_.uuid,_.video.url,_.poster.url,_.poster.width+":"+_.poster.height,{newsId:k,longHeadline:""},"","detail",_.video.duration,_.is360,_.is4k),S+="</div>",s+=S}}$("#"+t).html(s)}("cmsMainContent"),n(),a.run(),$(".cmsMap").length>0){var s=$(".cmsMap"),r=JSON.parse($(s)[0].dataset.geometry),c=r.coordinates,d=c.length>0?{center:[c[0][0],c[0][1]]}:{};if($(s).children().eq(1).attr("id"))var l=new AMap.Map($(s).children().eq(1).attr("id"),d);else var l=new AMap.Map($(s).children().eq(0).attr("id"),d);l.setLang("en");for(var p=0;p<c.length;p++)new AMap.Marker({position:c[p],title:c[p],map:l})}for(var h=$(".audio-wrapper").length,u=0;u<h;u++){var g=$(".audio-wrapper").find(".audio-item")[u],v=$(g).attr("id"),m=$(g).find("audio")[0],w=$(g).find(".audio-left").find("img")[0];initAudioEvent(m,w,v,function(e){return function(){if(window.CMSVideo.pauseAudioOthers(e),$("body").hasClass("android"))try{AndroidWebView.onAudioClickEvent()}catch(e){}}}(v))}var f=$(".js-share").data("id");o.getLiveVideo(f),window.setChartHeight()}}},{"../web_share/components/m-news.js":6,"../website/module/components/video.js":16}],15:[function(e,t,i){var n=e("../website_v3/module/common/init.js"),a=e("../website_v3/module/components/video.js"),o=e("../web_common_v3/ng-header-v3/header-v3.js"),s=e("../website_v3/module/components/m-analytics.js"),r=e("../website_v3/module/components/m-ga4.js"),c=e("./components/m-news.js"),d=e("./components/m-translate.js"),l=e("./components/previewInfo.js"),p=e("./components/Like/index"),h=e("./commet.js");e("./hybrid.js"),function(){function e(){$.ajax({url:"https://wechat.cgtn.com/socialweb/social/weiYin/getKeys.do?url="+encodeURIComponent(location.href.split("#")[0]),type:"GET",contentType:"application/json",dataType:"json",success:function(e){console.log(e),wx.config({debug:!1,appId:"wxd61ff47456d31b8e",timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]})}}),wx.ready(function(){var e=$('meta[property="og:title"]').attr("content"),t=$('meta[property="og:image_wechat"]').length>0?$('meta[property="og:image_wechat"]').attr("content"):$('meta[property="og:image"]').attr("content"),i=$('meta[property="og:description"]').attr("content");wx.onMenuShareTimeline({title:e,link:window.location.href,imgUrl:t,success:function(){console.log("Share Successed!")},cancel:function(){console.log("Share Failed!")}}),wx.onMenuShareAppMessage({title:e,desc:i,link:window.location.href,imgUrl:t,type:"",dataUrl:"",success:function(){console.log("Share Successed!")},cancel:function(){console.log("Share Failed!")}})})}function t(e,t){$(e.trigger).next(".J_copyTips").text(t),clearTimeout(N),N=setTimeout(function(){$(e.trigger).next(".J_copyTips").hide()},2e3)}function i(){j=$("#final-score").html(),D=$("#total-num").html(),J="Your score of quiz is "+j+" / "+D+". Let your friends and the world know!"}function u(e){$(e).siblings(".checked").removeClass("checked"),$(e).addClass("checked")}var g=$(".js-share").data("id"),v=$(".js-share").data("form");n.run(),a.run(),o.run(),d.init(g),s.run(),h.run(),r.run();var m=navigator.userAgent,w=m.indexOf("Android"),f=/(iPhone|iPod|IOS)/i.test(m),y=!!(f||w>-1||m.indexOf("Linux")>-1&&m.indexOf("UOS")<0),b=(m.toLowerCase().indexOf("micromessenger"),$("body").hasClass("ios")),S=$("body").hasClass("android"),_=$("body").hasClass("iOSBrowser"),A=$("body").hasClass("androidbrowser"),C=$(window).width();y?C<813?$(".hotNews").length>0||b||S||_||A?$(".cg-m-header").css({display:"none"}):$(".cg-m-header").css({display:"block"}):w>-1&&C<1280?$(".cg-m-header").css({display:"block"}):$(".cg-m-header").css({display:"none"}):C<1280?$(".cg-m-header").css({display:"block"}):$(".cg-m-header").css({display:"none"}),c.addCache(g),c.getTopNews(v);var k=c.getRelatedStories(g),E=c.getMoreFrom(g);if(c.getLiveVideo(g),c.watchStatistics(g),p.run(g),l.init(),$("body.web").length>0&&!$("body").hasClass("pagePreview")){var T=navigator.userAgent.indexOf("iPad"),w=m.indexOf("Android"),C=$(window).width(),L=C>813&&w>-1;-1!=T||L||$(".linkHeader").length>0&&c.isApp()}if($(".m-slick").slick({dots:!1,adaptiveHeight:!0}),$("img.lazy").lazyload({effect:"fadeIn",threshold:1e3,failurelimit:10}),Share.setFacebookLink(".share-banner .fb"),Share.setTwitterLink(".share-banner .twitter"),Share.setWeiboLink(".share-banner .wb"),Share.setTumblrLink(".share-banner .tumblr"),Share.setMailLink(".share-banner .email"),function(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}()){var x=document.getElementsByTagName("head")[0],I=document.createElement("script");I.type="text/javascript",I.src="https://res.wx.qq.com/open/js/jweiYin-1.2.0.js",x.appendChild(I),I.onreadystatechange=function(){"complete"==this.readyState&&e()},I.onload=function(){e()}}var O=new Clipboard(".J_copyBtn",{text:function(){return window.location.href}}),N=null;if(O.on("success",function(e){t(e,"Copied")}),O.on("error",function(e){t(e,"Failed to copy")}),$(".J_copyBtn").hover(function(){clearTimeout(N),$(".J_copyTips").show().text("Copy to clipboard")},function(){$(".J_copyTips").hide().text("")}),$(".js-share-wchat").on("click",function(){$(window).width()>670?$(".js-share-img").toggle():$(".js-share-m-img").show()}),
$(".js-share-m-img").on("click",function(){$(this).hide()}),$(".cmsQuiz").length>0){var W=0;$("img.lazy").lazyload(),$('input[type="radio"]').change(function(e){var t=e.target,i=t.getAttribute("id"),n=e.target.parentNode,a=n.getAttribute("id");$("#"+a).addClass("option-chosen");var o=t.getAttribute("name");$("#"+o).addClass("no-click");var s=i.split("_")[2],r=$("#"+o).data("right"),c=$("#"+o).data("explanation");$(".quiz-result").show(),s==r?($(".quiz-result .correct").show(),$(".quiz-result .correct").children(".quiz-result-text").html(c),$(".quiz-result .wrong").hide(),W++):($(".quiz-result .wrong").show(),$(".quiz-result .wrong").children(".quiz-result-text").html(c),$(".quiz-result .correct").hide());var d=i.split("_")[1];$("#next_"+d).show(),$("#final-score").html(W)});var M=$(".quiz-container-inner .slick-part .slick-item"),P=M.length;M.eq(0).fadeIn(200),M.each(function(e){var t=$(this);$(this).find(".nextButton").click(function(){t.hide(),e==P-1?M.eq(0).fadeIn(200):M.eq(e+1).fadeIn(200)})}),$(".onlyNext").click(function(e){$(".quiz-result").hide();var t=$(".slick-part").data("questions")||0,i=$(e.target).attr("id").split("_")[1];t==parseInt(i)+1&&$(".slick-item").hide()}),$(".restartButton").click(function(e){W=0,$("#final-score").html(W),$(".slick-item").hide(),$(".slick-item").eq(0).show(),$('input[type="radio"]').prop("checked",!1),$(".quiz-question-options-ul").removeClass("no-click"),$(".quiz-question-options-li").removeClass("option-chosen"),$(".quiz-result .wrong").hide(),$(".quiz-result .correct").hide(),$(".onlyNext").hide()});var j=$("#final-score").html(),D=$("#total-num").html(),J="Your score of quiz is "+j+" / "+D+". Let your friends and the world know!";!function(e){i();var t=$(e).attr("shareUrl")?$(e).attr("shareUrl"):encodeURIComponent(location.href);$(e).attr("href","https://www.facebook.com/sharer/sharer.php?u="+t+"&display=popup&app_id=723054267828678")}("#cmsMainContent .share .facebook"),function(e){i();var t=$(e).attr("shareUrl")?$(e).attr("shareUrl"):encodeURIComponent(location.href);$(e).attr("href","https://twitter.com/intent/tweet?text="+J+"&url="+t+"&via=cgtnofficial")}("#cmsMainContent .share .twitter"),function(e){i();var t=$(e).attr("shareUrl")?$(e).attr("shareUrl"):encodeURIComponent(location.href);$(e).attr("href","http://service.weibo.com/share/share.php?appkey=4122844478&title="+J+"&url="+t+"&pic=&searchPic=true&style=simple")}("#cmsMainContent .share .weibo"),function(e){i();var t=$(e).attr("shareUrl")?$(e).attr("shareUrl"):encodeURIComponent(location.href),n=encodeURIComponent("I thought you might be interested in this news: "+t+"."),a="mailto:?subject="+J+"&body="+n;$(e).attr("href",a)}("#cmsMainContent .share .email")}if($(".wechat").hover(function(){$(" .js-qr-img",$(this)).stop().fadeIn(400)},function(){$(" .js-qr-img",$(this)).stop().fadeOut(400)}).click(function(e){e.preventDefault()}),$("#top-media").attr("videolist-source")&&"[]"!=$("#top-media").attr("videolist-source")){var R=JSON.parse($("#top-media").attr("videolist-source")),V=[];for(index in R){var F={};F.image=R[index].poster.url,F.file=R[index].video.url,F.title=R[index].caption,F.mediaid=index,V.push(F)}var z=jwplayer("top-media");z.setup({playlist:V,autostart:!1,width:"100%",aspectratio:"16:9",primary:"html5",visualplaylist:!1,androidhls:!0,events:{onPlay:function(){window.CMSVideo.pauseOthers($(this)[0].id)}}});var H=document.getElementById("list");H.innerHTML;$(H).width()<=600?$(H).slick({slidesToShow:2,slidesToScroll:1}):$(H).slick({slidesToShow:3,slidesToScroll:1}),z.on("playlistItem",function(e){u("#video-item-"+e.index),$(H).slick("slickGoTo",e.index)});var U="";$(document).on("click",".video-index",function(e){var t=$(this).attr("data-index");z.playlistItem(t),u(this),0==$(this).attr("data-index")&&$("#video-item-0").addClass("checked"),U=$(this).data("src"),$(".ListItems .bg-img").css("background-image","url("+U+")")})}if($(".cmsMap").length>0){var q=$(".cmsMap"),G=$("#d_CMSMap").data("coordinates"),B=G,Y=$(q).find(".mapChooseArea");Y&&Y.length>0&&(Y.unbind("change"),Y.bind("change",function(e){var t=""!=$(this).val()?JSON.parse($(this).val()):"",i=$(this).find("option:selected").html(),n="";if(""!=i){var a=new AMap.LngLat(t.lng,t.lat),o=new AMap.LngLat(B[0][0],B[0][1]);n=Math.round(a.distance(o)/1e3)+"km"}$(q).find(".mapDistance").html(n),G.city=i,G.distance=n,$(q).attr("data-genometry",JSON.stringify(G));for(var s=$(this).find("option"),r=0;r<s.length;r++){var c=$(s[r]);$(this).val()==c.attr("value")?c.attr("selected","selected"):c.removeAttr("selected")}}));var K=B.length>0?{center:[B[0][0],B[0][1]]}:{},X=new AMap.Map($(q).children().eq(0).attr("id"),K);X.setLang("en");for(var Q=0;Q<B.length;Q++)new AMap.Marker({position:B[Q],title:B[Q],map:X})}for(var Z=$(".audio-wrapper").length,ee=0;ee<Z;ee++){var te=$(".audio-wrapper").children(".audio-item")[ee],ie=$(te).attr("id"),ne=$(te).children("audio")[0],ae=$(te).children(".audio-left").children("img")[0];initAudioEvent(ne,ae,ie,function(e){return function(){if(window.CMSVideo.pauseAudioOthers(e),$("body").hasClass("android"))try{AndroidWebView.onAudioClickEvent()}catch(e){}}}(ie))}$.when(k,E).done(function(){window.matchMedia("(min-width: 768px) and (max-width: 1260px)").matches&&0==$(".relatedStories").children().length&&0==$(".moreFrom").children().length?($(".rst-more-mainwrap .aboutNews").hide(),$(".rst-more-mainwrap .aboutNewsForPad").attr("style","display: block")):window.matchMedia("(max-width: 767px)").matches?($(".rst-more-mainwrap .aboutNews").hide(),$(".rst-more-mainwrap .aboutNewsForPad").attr("style","display: none")):($(".rst-more-mainwrap .aboutNews").show(),$(".rst-more-mainwrap .aboutNewsForPad").attr("style","display: none"))}),window.addEventListener("resize",function(){window.matchMedia("(min-width: 768px) and (max-width: 1260px)").matches&&0==$(".relatedStories").children().length&&0==$(".moreFrom").children().length?($(".rst-more-mainwrap .aboutNews").hide(),$(".rst-more-mainwrap .aboutNewsForPad").attr("style","display: block")):window.matchMedia("(max-width: 767px)").matches?($(".rst-more-mainwrap .aboutNews").hide(),$(".rst-more-mainwrap .aboutNewsForPad").attr("style","display: none")):($(".rst-more-mainwrap .aboutNews").show(),$(".rst-more-mainwrap .aboutNewsForPad").attr("style","display: none"))})}();var u,g=!1;window.onload=function(){try{document.domain="cgtn.com"}catch(e){console.error(e)}g=!0,window.clearInterval(u),$(".cmsImage img").css("minHeight","auto"),window.setChartHeight(),window.onresize=function(){var e=this;e.resizeFlag&&clearTimeout(e.resizeFlag),e.resizeFlag=setTimeout(function(){window.setChartHeight(),e.resizeFlag=null},100)}},!g&&window.location.origin&&/https:\/\/[\w-]*cms[\w-]*.cgtn.com/.test(window.location.origin)&&(u=window.setInterval(function(){window.onload&&window.onload()},1e3))},{"../web_common_v3/ng-header-v3/header-v3.js":3,"../website_v3/module/common/init.js":17,"../website_v3/module/components/m-analytics.js":19,"../website_v3/module/components/m-ga4.js":20,"../website_v3/module/components/video.js":21,"./commet.js":7,"./components/Like/index":8,"./components/m-news.js":10,"./components/m-translate.js":11,"./components/previewInfo.js":12,"./hybrid.js":13}],16:[function(e,t,i){var n={run:function(){$("body").hasClass("web")||$("body").hasClass("androidbrowser")||$("body").hasClass("iOSBrowser")?n.webPlayer():n.appPlayer(),this.resize(),$(".cg-video-wrapper").map(function(e,t){var i=$(t).parent().width(),n=$(t).find(".cg-player-container").data("ratio"),a=i*n.split(":")[1]/n.split(":")[0];$(t).css({width:i,height:a}),$(t).find(".cg-player-container").css({width:i,height:a})})},getVideoInfoForApp:function(e){var t=e.dataset||{},i=$(e).offset();return t.video?{x:i.left,y:i.top,width:$(e).width(),height:$(e).height(),is360:t.is360||!1,is4k:t.is4k||!1,video_url:t.video,video_poster:t.poster,news_id:t.newsid}:null},controlAppVideo:function(e){try{$("body").hasClass("ios")&&window.webkit.messageHandlers.PlayClickedVideo.postMessage(e),$("body").hasClass("android")&&AndroidWebView.PlayClickedVideo(encodeURIComponent(JSON.stringify(e)))}catch(e){console.log("error",e)}try{$("body").hasClass("ios")&&window.webkit.messageHandlers.StandByPlayer.postMessage(e),$("body").hasClass("android")&&AndroidWebView.addVideoPlayer(encodeURIComponent(JSON.stringify(e)))}catch(e){console.log("error",e)}},appPlayer:function(){if($("#live-video-myOverlay").length&&$(".app-live-wrapper").length){var e=$(".js-share").data("id"),t=$(".news-title").text(),i=$("body").hasClass("ios"),a=$("body").hasClass("android");$(".cg-video-main").map(function(o,s){var r=$(s).attr("id");if("live-video"!==r){var c=$(s).attr("data-video");if(c){var d=$(s).attr("data-poster"),l=$(s).attr("data-is360"),p=$(s).parents(".cg-player-container"),h=p.attr("data-ratio"),u={newsId:e,sn:e,headline:t,origin:p.attr("data-origin"),closeView:!0,sendMessageToApp:!0,isiOS:i,isAndroid:a},g={id:r,url:c,ratio:h,poster:d,el:s,containerClassName:"cmsVideo"};if(l&&"false"!=l){var v=navigator.userAgent;if(v.indexOf("Android")>-1||v.indexOf("Adr")>-1)n.videoPlay(g,u),$(s).parents(".cmsVideo").append("<p class='text en' style='background:#eee; margin-bottom: 0px; padding: 0.25rem .75rem'>Sorry, your mobile does not support VR playback.</p>");else{g.url=g.url.replace(".m3u8",".mp4");VRPlayer(g,function(){sendVideoPlayEvent(window.location.href.split("/")[4],$(".news-title").text().trim(),g.url,"webPage"),ga4SendVideoPlayEvent(window.location.href.split("/")[4],$(".news-title").text().trim(),g.url,"webPage")})}}else n.videoPlay(g,u)}}})}else $(".J_player_container_main").off("click"),$(".J_player_container_main").on("click",function(e){var t=n.getVideoInfoForApp(this);t&&n.controlAppVideo(t)})},pauseAll:function(){$(".jwplayer").each(function(e,t){var i=$(this).attr("id");jwplayer(i).play(!1)})},livePlayer:function(e){$("#live-video-myOverlay").on("click",function(t){var i=n.getVideoInfoForApp(this);i&&(i.video_status=e,n.controlAppVideo(i))})},webPlayer:function(e){var t=$(".js-share").data("id"),i=$(".news-title").text();$(".cg-video-main").map(function(a,o){console.log("webplayer");var s=$(o).attr("id"),r=$(o).attr("data-video");if(r){var c=$(o).attr("data-poster"),d=$(o).attr("data-is360"),l=$(o).attr("data-type"),p=$(o).parents(".cg-player-container"),h=p.attr("data-ratio"),u={stretching:""};19==l&&(u={stretching:"exactfit"});var g={newsId:t,sn:t,headline:i,origin:p.attr("data-origin"),video_status:e},v={id:s,url:r,ratio:h,poster:c,el:o,containerClassName:"cmsVideo"};if(d&&"false"!=d){var m=navigator.userAgent;if(m.indexOf("Android")>-1||m.indexOf("Adr")>-1)n.videoPlay(v,g),$(o).parents(".cmsVideo").append("<p class='text en' style='background:#eee; margin-bottom: 0px; padding: 0.25rem .75rem'>Sorry, your mobile does not support VR playback.</p>");else{v.url=v.url.replace(".m3u8",".mp4");VRPlayer(v,function(){sendVideoPlayEvent(window.location.href.split("/")[4],$(".news-title").text().trim(),v.url,"webPage"),ga4SendVideoPlayEvent(window.location.href.split("/")[4],$(".news-title").text().trim(),v.url,"webPage")})}}else n.videoPlay(v,g,u)}})},resize:function(){$(".cg-video-wrapper").each(function(e,t){$(t).parent().resize(function(e){var i=$(t).parent().width(),n=$(t).find(".cg-player-container").data("ratio"),a=i*n.split(":")[1]/n.split(":")[0];$(t).css({width:i,height:a}),$(t).find(".cg-player-container").css({width:i,height:a}),e.stopPropagation(),e.preventDefault()})})},videoPlay:function(e,t,i){var n=floatPlayer(e.id,e.url,e.ratio,t,i);$("#"+e.id).next().off("click"),$("#"+e.id).next().on("click",function(){$(this).hide(),$("#"+e.id).show(),n.play()})}};t.exports=n},{}],17:[function(e,t,i){var n=e("./play-duration.js"),a=["16px","18px","20px","22px","26px"],o=[null,"35px","35px","39px","43px"];window.setFontsize=function(e,t,i){$(e).children().each(function(e,n){if($(n).hasClass("audio-wrapper"))return!1;$(n).css("font-size",t),setFontsize($(n),t),i&&$("#cmsMainContent .text p, #cmsMainContent .text-p").css("line-height",i)})},window.setPageFontsize=function(e){setFontsize(".m-content",a[e],o[e])},window.setSocialPageFontsize=function(e){$("html").css("font-size",a[e])},window.setChartHeight=function(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++){var i=e[t],n=i.contentWindow;if("chart"==i.name&&n)try{var a=n.document.getElementById("chartContainer"),o=n.document.getElementById("chartDescription"),s=a&&a.offsetHeight||700,r=o&&o.offsetHeight||0;i.height=s+r}catch(e){console.error(": ",e)}}},window.CMSVideo={render:function(e,t,i){var n=jwplayer(e),a=navigator.userAgent;if(a.indexOf("Firefox")>-1&&a.indexOf("Android")>-1)var o=t.replace(/m3u8/g,"mp4");else var o=t;n.setup({file:o,image:i,skin:{name:"mobile"},stretching:"fill",width:"100%",aspectratio:"16:9",androidhls:!0,primary:"html5",autostart:!1,events:{onPlay:function(){$(".jwplayer").each(function(t,i){var n=$(this).attr("id");if(e!=n){jwplayer(n).play(!1)}})},onReady:function(){var t=$(document.getElementById(e));$(".jw-display-icon-container",t).css({left:"0",top:"0",margin:"0",width:"2.75em",height:"2.75em"})}}})},disableFullScreen:function(){$(".m-content .jw-icon-fullscreen").hide()},pauseAll:function(){$(".jwplayer").each(function(e,t){var i=$(this).attr("id");jwplayer(i).play(!1)}),window.CMSVideo.pauseAudioAll()},pauseVideoAll:function(){$(".jwplayer").each(function(e,t){var i=$(this).attr("id");jwplayer(i).play(!1)})},pauseOthers:function(e){$(".jwplayer").each(function(t,i){var n=$(this).attr("id");e!==n&&jwplayer(n).play(!1)}),window.CMSVideo.pauseAudioAll()},pauseAudioOthers:function(e){$(".audio-item").each(function(t,i){var n=$(this).attr("id"),a=$(this).children("audio")[0],o=$(this).find(".audio-play")[0];e!==n?(o.src=o.src.replace("icon2@x2","icon1@x2"),a.pause()):a.paused?o.src=o.src.replace("icon1@x2","icon2@x2"):o.src=o.src.replace("icon2@x2","icon1@x2")}),window.CMSVideo.pauseVideoAll();$("body").prop("className");$("body").hasClass("ios")&&window.pauseAudioToiOS()},pauseAudioAll:function(){$(".audio-item").each(function(e,t){var i=$(this).find(".audio-play")[0];i.src=i.src.replace("icon2@x2","icon1@x2"),$(this).children("audio")[0].pause()})},getFirstPlayerInfo:function(){var e=$(".J_player_container_main");if(e&&e[0]){for(var t=0,i=e.length;t<i;t++)if("live-video-myOverlay"===e[t].id)return;var n=e[0],a=n.dataset,o=$(n).offset();return{x:o.left,y:o.top,width:$(n).width(),height:$(n).height(),is360:a.is360,is4k:a.is4k,video_url:a.video,video_poster:a.poster,news_id:a.newsid}}}},window.Share={setFacebookLink:function(e){var t=$(e).attr("shareUrl")?$(e).attr("shareUrl"):encodeURIComponent(location.href);$(e).attr("share_title")&&$(e).attr("share_title");$(e).attr("href","https://www.facebook.com/sharer/sharer.php?u="+t+"&display=popup&app_id=723054267828678")},setTwitterLink:function(e){var t=$(e).attr("shareUrl")?$(e).attr("shareUrl"):encodeURIComponent(location.href),i=$(e).attr("share_title")?$(e).attr("share_title"):"CGTN - Your link to China and world!";$(e).attr("href","https://twitter.com/intent/tweet?text="+i+"&url="+t+"&via=cgtnofficial")},setWeiboLink:function(e){var t=$(e).attr("shareUrl")?$(e).attr("shareUrl"):encodeURIComponent(location.href),i=$(e).attr("share_title")?$(e).attr("share_title"):"CGTN - Your link to China and world!";$(e).attr("href","http://service.weibo.com/share/share.php?appkey=4122844478&title="+i+"&url="+t+"&pic=&searchPic=true&style=simple")},setTumblrLink:function(e){var t=$(e).attr("shareUrl")?$(e).attr("shareUrl"):encodeURIComponent(location.href),i=$(e).attr("share_title")?$(e).attr("share_title"):"CGTN - Your link to China and world!";$(e).attr("href","https://www.tumblr.com/widgets/share/tool?canonicalUrl="+t+"&caption="+i+"&title="+i)},setMailLink:function(e){var t=$(e).attr("shareUrl")?$(e).attr("shareUrl"):location.href,i=$(e).attr("share_title")?$(e).attr("share_title"):"CGTN - Your link to China and world!",n=encodeURIComponent("I thought you might be interested in this news: "+t+"."),a="mailto:?subject="+i+"&body="+n;$(e).attr("href",a)},setQrCode:function(e){var t=$(e).data("shareurl")?$(e).data("shareurl"):location.href,i=t.replace(/(index|share)\.html/,"qrcode.png");$(e).attr("src",i)}};var s=e("../../../web_common_v3/tools.js"),r={run:function(){window.PlayDuration=n,s.dialog(),Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in t)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return e},$("img.lazy").lazyload({effect:"fadeIn"}),$($.find("[data-anchorgroup]:eq(0)")).removeClass("hidden"),$($.find("[data-anchorgroup]:eq(0)")).find("a").removeClass("hidden"),$($.find("[data-m-anchorgroup]:eq(0)")).removeClass("hidden"),$($.find("[data-m-anchorgroup]:eq(0)")).find("a").removeClass("hidden"),$($.find("[data-anchorgroup]")).on("click",function(e){var t=$(e.target).attr("data-anchorgroup");$($.find("[data-addgroup="+t+"]")).removeClass("hidden"),$($.find("[data-anchorgroup="+parseInt(t)+"]")).addClass("hidden"),$($.find("[data-anchorgroup="+(parseInt(t)+1)+"]")).removeClass("hidden")}),$($.find("[data-m-anchorgroup]")).on("click",function(e){var t=$(e.target).attr("data-m-anchorgroup");$($.find("[data-m-addgroup="+t+"]")).removeClass("hidden"),$($.find("[data-m-anchorgroup="+parseInt(t)+"]")).addClass("hidden"),$($.find("[data-m-anchorgroup="+(parseInt(t)+1)+"]")).removeClass("hidden")})},resize:function(){var e=this;$(window).resize(function(){e.changeRem()}).trigger("resize")},changeRem:function(){var e=$(window).width(),t=16*e/375;e>768?$("html").css("font-size","20px"):$("html").css("font-size",t+"px")},audioDark:function(){if(navigator.userAgent.indexOf("DarkMode")>-1){var e=document.body.className;e.indexOf("cg-dark-mode")>-1||(document.body.className="cg-dark-mode "+e);for(var t=$(".audio-wrapper").length,i=0;i<t;i++){var n=$(".audio-wrapper").children(".audio-item")[i],a=$(n).children(".audio-left").children("img")[0];a.src=a.src.replace("icon1@x2","darkicon1@x2")}}}};t.exports=r},{"../../../web_common_v3/tools.js":4,"./play-duration.js":18}],18:[function(e,t,i){!function(e){"use strict";function i(){o.isBind||(o.isBind=!0,document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&n()}),document.addEventListener("beforeunload",n),document.addEventListener("pagehide",n))}function n(){for(var e=0;e<o.videoList.length;e++){var t=o.videoList[e];t.duration&&"function"==typeof t.callback&&(t.callback(t.duration),t.duration=0)}}function a(e,t){var i={};for(var n in e){var a=void 0===t[n]?e[n]:t[n];i[n]=a}return i}var o={videoList:[],isBind:!1,config:{instance:null,duration:0,timer:null,delay:100}},s=function(e,t){this.callback=e,this._init(t),i()};s.prototype={constructor:this,_init:function(e){e=e||{},this.options=a(o.config,e),this.options.id=(new Date).getTime(),this.options.callback=this.callback,o.videoList.push(this.options)},play:function(){var e=this.options;e.timer=setInterval(function(){e.duration+=(e.delay||e.options.delay)/1e3},e.delay)},pause:function(){clearInterval(this.options.timer)},remove:function(){for(var e=o.videoList,t=0,i=e.length;t<i;t++)if(e[t].id===this.options.id){e.splice(t,1);break}}},void 0!==t&&t.exports&&(t.exports=s),"function"==typeof define&&define(function(){return s}),e.PlayDuration=s}(this)},{}],19:[function(e,t,i){t.exports={run:function(){this.analyticHeadNav(),this.analyticFooter(),this.analyticStable($("#pageNameContent").val()),this.analyticMiddle(),this.analyticBestOfVideo(),this.analyticLeftArrow(),this.analyticRightArrow(),this.analyticFullStoryLeftArrow(),this.analyticFullStoryRightArrow(),this.analyticShows(),this.analyticWaterFullMore(),this.analyticShowMore(),this.analyticglobalBusinessShows(),this.analyticSocial(),this.analyticTranslate()},analyticSocial:function(){var e=function(e){window.sendWebEvent&&window.sendWebEvent("ArticleDetailsPage","share",e)};$(".share-icon a.fb").bind("click",function(t){e("Facebook")}),$(".share-icon a.twitter").bind("click",function(t){e("Twitter")}),$(".share-icon a.wb").bind("click",function(t){e("Weibo")}),$(".share-icon a.share-wechat").bind("click",function(t){e("Wechat")}),$(".share-icon a.email").bind("click",function(t){e("Mail")}),$(".share-icon a.J_copyBtn").bind("click",function(t){e("Link")})},sendNavClick:function(e,t,i){window.sendWebEvent&&window.sendWebEvent(e,"click",i)},analyticBestOfVideo:function(e,t,i){$(".cg-europe-layout .bestOfVideo").bind("click",function(e){window.sendWebEvent&&window.sendWebEvent("Europe","click","BEST-OF-VIDEO::More")})},analyticLeftArrow:function(e,t,i){$(".cg-europe-layout .photo-gallery--left-icon").bind("click",function(e){window.sendWebEvent&&window.sendWebEvent("Europe","click","BEST-OF-VIDEO::Left-Arrow")})},analyticRightArrow:function(e,t,i){$(".cg-europe-layout .photo-gallery--right-icon").bind("click",function(e){window.sendWebEvent&&window.sendWebEvent("Europe","click","BEST-OF-VIDEO::Right-Arrow")})},analyticFullStoryLeftArrow:function(e,t,i){$(".cg-europe-layout .video-panel_bg--left-icon").bind("click",function(e){window.sendWebEvent&&window.sendWebEvent("Europe","click","THE-FULL-STORY::Left-Arrow")})},analyticFullStoryRightArrow:function(e,t,i){$(".cg-europe-layout .video-panel_bg--right-icon").bind("click",function(e){window.sendWebEvent&&window.sendWebEvent("Europe","click","THE-FULL-STORY::Right-Arrow")})},analyticShows:function(e,t,i){$(".cg-europe-layout .europe-programShows a").bind("click",function(e){if($(this).parents().hasClass("cg-pic")){var t=$(this).parents(".cg-pic").siblings(".cg-content-description").text().trim();window.sendWebEvent&&window.sendWebEvent("Europe","click","SHOWS::"+t)}else{var t=$(this).text().trim();window.sendWebEvent&&window.sendWebEvent("Europe","click","SHOWS::"+t)}})},analyticWaterFullMore:function(e,t,i){$(".cg-europe-layout .J_more").bind("click",function(e){window.sendWebEvent&&window.sendWebEvent("Europe","click","Waterfall::More")})},analyticShowMore:function(e,t,i){$(".cg-europe-layout .cg-europe-videosCollection-more").bind("click",function(e){window.sendWebEvent&&window.sendWebEvent($("body").attr("id")+"_Episode","click","Show_More")})},analyticglobalBusinessShows:function(e,t,i){$(".cg-europe-layout .cg-programs-title .cg-programs-name a").bind("click",function(e){var t=$(this).text().trim();"RAZOR"==t?window.sendWebEvent&&window.sendWebEvent($("body").attr("id")+"_Shows","click","Razor"):"THE AGENDA"==t?window.sendWebEvent&&window.sendWebEvent($("body").attr("id")+"_Shows","click","The_Agenda"):"THE WORLD TODAY"==t?window.sendWebEvent&&window.sendWebEvent($("body").attr("id")+"_Shows","click","The_World_Today"):"GLOBAL BUSINESS EUROPE"==t&&window.sendWebEvent&&window.sendWebEvent($("body").attr("id")+"_Shows","click","Global_Business_Europe")})},sendNewsClick:function(e,t,i){ga("webTracker.ec:addProduct",t),ga("webTracker.ec:setAction","click",{list:e}),window.sendWebEvent&&window.sendWebEvent(e,"News_Click","News_"+i)},analyticHeadNav:function(){var e=this;$(".nav-list-bj a,.nav-list-eu a").each(function(t,i){"Nav_Click"==$(i).attr("data-action")&&$(i).bind("click",function(t){var n=$.trim($(this).text()),a=($.trim($(i).attr("data-label")),$(i).attr("data-category")),o=$(i).attr("data-news-id"),s=$(i).attr("data-time");e.sendNavClick("HeadNavigation",{id:o,name:"",list:a,category:"",variant:s,position:e.getPosition(i.href,e.newsAllMap)},n)})}),this.bindShareIcon(),this.bindHeaderLogo()},bindShareIcon:function(){var e=this;$(".cg-pc-header .icon-list,.cg-m-header .icon-list").each(function(t,i){$(i).find(".fl a").bind("click",function(t){var i=$(t.target).attr("class").replace(/icon|cg-com-sprite|\s*/g,"");e.sendNavClick("HeadNavigation","click",e.titleCase(i||""))}),$(i).find(".js-iconList").bind("click",function(t){var i=$(t.target).hasClass("more"),n=i?"Icon_fold":"Icon_Unfold";e.sendNavClick("HeadNavigation","click",n)})})},bindHeaderLogo:function(){var e=this;$(".cg-pc-header .bar-logo,.cg-m-header .bar-logo2").bind("click",function(){e.sendNavClick("HeadNavigation","click","CGTN_Logo")})},titleCase:function(e){return e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()},analyticMiddle:function(){var e=this;$(".cg-newsWrapper a").each(function(t,i){"News_Click"==$(i).attr("data-action")&&$(i).bind("click",function(t){var n=$.trim($(i).attr("data-label")),a=$(i).attr("data-category"),o=$(i).attr("data-news-id"),s=$(i).attr("data-time");e.sendNewsClick(a,{id:o,name:"",list:a,category:"",variant:s,position:e.getPosition(i.href,e.newsAllMap)},n)})});var t=$(".js-share").data("id");$("#cmsMainContent a").each(function(e,i){var n=$(i).attr("href");n&&n.indexOf("http")>-1&&$(i).bind("click",function(e){window.sendWebEvent&&window.sendWebEvent("ArticleDetailsPage","News_Click","Link",{dimension19:n,dimension20:t})})})},sendNewsViewable:function(e,t){$(t).each(function(e,t){ga("webTracker.ec:addImpression",t)}),window.sendWebEvent&&window.sendWebEvent(e,"News_Impression","",{nonInteraction:!0})},analyticFooter:function(){var e=this;$(".cg-item-w4x .cg-list li a,.cg-item-w3x .cg-list li a").each(function(t,i){"Sitemap_Click"==$(i).attr("data-action")&&$(i).bind("click",function(t){var n=$.trim($(this).text()),a=($.trim($(i).attr("data-label")),$(i).attr("data-category")),o=$(i).attr("data-news-id"),s=$(i).attr("data-time");e.sendNavClick("Footer",{id:o,name:"",list:a,category:"",variant:s,position:e.getPosition(i.href,e.newsAllMap)},n)})}),this.bindFooterLogo(),this.bindDownload(),this.bindCopyright()},bindFooterLogo:function(){var e=this;$(".cg-footer .icon-logo").bind("click",function(){e.sendNavClick("Footer","click","CGTN_Logo")})},bindDownload:function(){var e={google:"Google_Play","apple-tv":"App_tv_Store",apple:"App_Store",web:"Website"},t=this;$(".cg-item-w2x .cg-list li a").bind("click",function(i){var n=$(i.target).attr("class").replace(/icon|\s*/g,""),a=e[n];t.sendNavClick("Footer","click",a)})},bindCopyright:function(){var e={TeamOfUs_Click:"Term_of_Use",Copyright_Click:"Copyright",PrivacyPolicy_Click:"Privacy_Policy",AboutUs_Click:"About_US"},t=this;$(".cg-copyright .link a").bind("click",function(i){var n=$(i.target).data("action"),a=e[n];t.sendNavClick("Footer","click",a)})},analyticStable:function(e){var t=e||"ArticleDetailsPage",i=this;setTimeout(function(){window.sendWebEvent&&window.sendWebEvent(t,"Timing","30s",{})},3e4);var n={.2:!1,.4:!1,.6:!1,.8:!1,"1.0":!1};$(window).scroll(function(){var e=$(this).scrollTop(),i=$(document).height();switch(((e+$(this).height())/i).toFixed(1)){case"0.2":n[.2]||(window.sendWebEvent&&window.sendWebEvent(t,"Scroll","20%",{nonInteraction:!0}),n[.2]=!0);break;case"0.4":n[.4]||(window.sendWebEvent&&window.sendWebEvent(t,"Scroll","40%",{nonInteraction:!0}),n[.4]=!0);break;case"0.6":n[.6]||(window.sendWebEvent&&window.sendWebEvent(t,"Scroll","60%",{nonInteraction:!0}),n[.6]=!0);break;case"0.8":n[.8]||(window.sendWebEvent&&window.sendWebEvent(t,"Scroll","80%",{nonInteraction:!0}),n[.8]=!0);break;case"1.0":n["1.0"]||(window.sendWebEvent&&window.sendWebEvent(t,"Scroll","100%",{nonInteraction:!0}),n["1.0"]=!0)}});var a={},o=new IntersectionObserver(function(e){var n=[];$(e).each(function(e,o){o.intersectionRatio>0&&(a[o.target.href]||(n.push({id:o.target.href.substring(o.target.href.indexOf("news/")+5,o.target.href.indexOf("/",o.target.href.indexOf("news/")+5)),name:"",list:t,category:"",variant:"",position:i.getPosition(o.target.href,i.newsAllMap)}),a[o.target.href]=!0))}),n.length>0&&i.sendNewsViewable(t,n)});$(".cg-newsWrapper").each(function(e,t){for(var n=$(t).find("a"),a=0;a<n.length;a++)if(n[a].href.indexOf("share.html")>0||n[a].href.indexOf("share_p.html")>0||n[a].href.indexOf("report.do")>0){i.newsAllMap.push(n[a].href),o.observe(n[a]);break}})},newsAllMap:[],getPosition:function(e,t){var i;return $(t).each(function(t,n){if(e==n)return i=t,!1}),i},analyticTranslate:function(){$(".J_translate_share,.J_translate_m_share").bind("click",function(e){var t=$(e.target).data("ga");window.sendWebEvent&&window.sendWebEvent("ArticleDetailsPage","translate",t)})}}},{}],20:[function(e,t,i){t.exports={run:function(){this.ga4AnalyticHeadNav(),this.ga4AnalyticFooter(),this.ga4AnalyticStable($("#ga4PageNameContent").val()),this.ga4AnalyticMiddle(),this.ga4AnalyticBestOfVideo(),this.ga4AnalyticLeftArrow(),this.ga4AnalyticRightArrow(),this.ga4AnalyticFullStoryLeftArrow(),this.ga4AnalyticFullStoryRightArrow(),this.ga4AnalyticShows(),this.ga4AnalyticWaterFullMore(),this.ga4AnalyticShowMore(),this.ga4AnalyticglobalBusinessShows(),this.ga4AnalyticSocial(),this.ga4AnalyticTranslate()},ga4AnalyticSocial:function(){var e=function(e){window.ga4SendWebEvent&&window.ga4SendWebEvent("ArticleDetailsPage","share",e)};$(".share-icon a.fb").bind("click",function(t){e("Facebook")}),$(".share-icon a.twitter").bind("click",function(t){e("Twitter")}),$(".share-icon a.wb").bind("click",function(t){e("Weibo")}),$(".share-icon a.share-wechat").bind("click",function(t){e("Wechat")}),$(".share-icon a.email").bind("click",function(t){e("Mail")}),$(".share-icon a.J_copyBtn").bind("click",function(t){e("Link")})},ga4SendNavClick:function(e,t,i){window.ga4SendWebEvent&&window.ga4SendWebEvent(e,"click",i)},ga4AnalyticBestOfVideo:function(e,t,i){$(".cg-europe-layout .bestOfVideo").bind("click",function(e){window.ga4SendWebEvent&&window.ga4SendWebEvent("Europe","click","BEST-OF-VIDEO::More")})},ga4AnalyticLeftArrow:function(e,t,i){$(".cg-europe-layout .photo-gallery--left-icon").bind("click",function(e){window.ga4SendWebEvent&&window.ga4SendWebEvent("Europe","click","BEST-OF-VIDEO::Left-Arrow")})},ga4AnalyticRightArrow:function(e,t,i){$(".cg-europe-layout .photo-gallery--right-icon").bind("click",function(e){window.ga4SendWebEvent&&window.ga4SendWebEvent("Europe","click","BEST-OF-VIDEO::Right-Arrow")})},ga4AnalyticFullStoryLeftArrow:function(e,t,i){$(".cg-europe-layout .video-panel_bg--left-icon").bind("click",function(e){window.ga4SendWebEvent&&window.ga4SendWebEvent("Europe","click","THE-FULL-STORY::Left-Arrow")})},ga4AnalyticFullStoryRightArrow:function(e,t,i){$(".cg-europe-layout .video-panel_bg--right-icon").bind("click",function(e){window.ga4SendWebEvent&&window.ga4SendWebEvent("Europe","click","THE-FULL-STORY::Right-Arrow")})},ga4AnalyticShows:function(e,t,i){$(".cg-europe-layout .europe-programShows a").bind("click",function(e){if($(this).parents().hasClass("cg-pic")){var t=$(this).parents(".cg-pic").siblings(".cg-content-description").text().trim();window.ga4SendWebEvent&&window.ga4SendWebEvent("Europe","click","SHOWS::"+t)}else{var t=$(this).text().trim();window.ga4SendWebEvent&&window.ga4SendWebEvent("Europe","click","SHOWS::"+t)}})},ga4AnalyticWaterFullMore:function(e,t,i){$(".cg-europe-layout .J_more").bind("click",function(e){window.ga4SendWebEvent&&window.ga4SendWebEvent("Europe","click","Waterfall::More")})},ga4AnalyticShowMore:function(e,t,i){$(".cg-europe-layout .cg-europe-videosCollection-more").bind("click",function(e){window.ga4SendWebEvent&&window.ga4SendWebEvent($("body").attr("id")+"_Episode","click","Show_More")})},ga4AnalyticglobalBusinessShows:function(e,t,i){$(".cg-europe-layout .cg-programs-title .cg-programs-name a").bind("click",function(e){var t=$(this).text().trim();"RAZOR"==t?window.ga4SendWebEvent&&window.ga4SendWebEvent($("body").attr("id")+"_Shows","click","Razor"):"THE AGENDA"==t?window.ga4SendWebEvent&&window.ga4SendWebEvent($("body").attr("id")+"_Shows","click","The_Agenda"):"THE WORLD TODAY"==t?window.ga4SendWebEvent&&window.ga4SendWebEvent($("body").attr("id")+"_Shows","click","The_World_Today"):"GLOBAL BUSINESS EUROPE"==t&&window.ga4SendWebEvent&&window.ga4SendWebEvent($("body").attr("id")+"_Shows","click","Global_Business_Europe")})},
sendNewsClick:function(e,t,i){window.ga4SendWebEvent&&window.ga4SendWebEvent(e,"News_Click","News_"+i)},ga4AnalyticHeadNav:function(){var e=this;$(".header-v3-navlists .nav-v3-link,.header-v3-medialist a").each(function(t,i){"Nav_Click"==$(i).attr("data-action")&&$(i).bind("click",function(t){var n=$.trim($(this).text()),a=($.trim($(i).attr("data-label")),$(i).attr("data-category")),o=$(i).attr("data-news-id"),s=$(i).attr("data-time");e.ga4SendNavClick("HeadNavigation",{id:o,name:"",list:a,category:"",variant:s,position:e.getPosition(i.href,e.newsAllMap)},n)})}),this.bindShareIcon(),this.bindHeaderLogo()},bindShareIcon:function(){var e=this;$(".pc-header-v3 .header-v3-shareicon,.cg-m-header .header-v3-menulist-share").each(function(t,i){$(i).find(".fl a").bind("click",function(t){var i=$(t.target).attr("class").replace(/icon|cg-com-sprite|\s*/g,"");e.ga4SendNavClick("HeadNavigation","click",e.titleCase(i||""))}),$(i).find(".J-header-v3-more").bind("click",function(t){var i=$(t.target).hasClass("more"),n=i?"Icon_fold":"Icon_Unfold";e.ga4SendNavClick("HeadNavigation","click",n)})})},bindHeaderLogo:function(){var e=this;$(".pc-header-v3 .bar-logo,.m-header-v3 .m-header-v3-logo").bind("click",function(){e.ga4SendNavClick("HeadNavigation","click","CGTN_Logo")})},titleCase:function(e){return e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()},ga4AnalyticMiddle:function(){var e=this;$(".cg-newsWrapper a").each(function(t,i){"News_Click"==$(i).attr("data-action")&&$(i).bind("click",function(t){var n=$.trim($(i).attr("data-label")),a=$(i).attr("data-category"),o=$(i).attr("data-news-id"),s=$(i).attr("data-time");e.sendNewsClick(a,{id:o,name:"",list:a,category:"",variant:s,position:e.getPosition(i.href,e.newsAllMap)},n)})});var t=$(".js-share").data("id");$("#cmsMainContent a").each(function(e,i){var n=$(i).attr("href");n&&n.indexOf("http")>-1&&$(i).bind("click",function(e){window.ga4SendWebEvent&&window.ga4SendWebEvent("ArticleDetailsPage","News_Click","Link",{dimension19:n,dimension20:t})})})},sendNewsViewable:function(e,t){$(t).each(function(e,t){ga("webTracker.ec:addImpression",t)}),window.ga4SendWebEvent&&window.ga4SendWebEvent(e,"News_Impression","",{nonInteraction:!0})},ga4AnalyticFooter:function(){var e=this;$(".foot-v3-list-site li a,.foot-v3-list-explore li a,.foot-v3-list-site-m li a,.foot-v3-list-explore-m li a").each(function(t,i){"Sitemap_Click"==$(i).attr("data-action")&&$(i).bind("click",function(t){var n=$.trim($(this).text()),a=($.trim($(i).attr("data-label")),$(i).attr("data-category")),o=$(i).attr("data-news-id"),s=$(i).attr("data-time");e.ga4SendNavClick("Footer",{id:o,name:"",list:a,category:"",variant:s,position:e.getPosition(i.href,e.newsAllMap)},n)})}),this.bindFooterLogo(),this.bindDownload(),this.bindCopyright()},bindFooterLogo:function(){var e=this;$(".foot-v3-logo-main,.foot-v3-logo-main-m").bind("click",function(){e.ga4SendNavClick("Footer","click","CGTN_Logo")})},bindDownload:function(){var e={google:"Google_Play","apple-tv":"App_tv_Store",apple:"App_Store",web:"Website"},t=this;$(".foot-v3-list-down li a,.foot-v3-list-down-m li a").bind("click",function(i){var n=$(i.target).attr("class").replace(/icon|\s*/g,""),a=e[n];t.ga4SendNavClick("Footer","click",a)})},bindCopyright:function(){var e={TeamOfUs_Click:"Term_of_Use",Copyright_Click:"Copyright",PrivacyPolicy_Click:"Privacy_Policy",AboutUs_Click:"About_US"},t=this;$(".foot-v3-list-items li a,.foot-v3-list-items-m li a").bind("click",function(i){var n=$(i.target).data("action"),a=e[n];t.ga4SendNavClick("Footer","click",a)})},ga4AnalyticStable:function(e){var t=e||"ArticleDetailsPage",i=this;setTimeout(function(){window.ga4SendWebEvent&&window.ga4SendWebEvent(t,"Timing","30s",{})},3e4);var n={.2:!1,.4:!1,.6:!1,.8:!1,"1.0":!1};$(window).scroll(function(){var e=$(this).scrollTop(),i=$(document).height();switch(((e+$(this).height())/i).toFixed(1)){case"0.2":n[.2]||(window.ga4SendWebEvent&&window.ga4SendWebEvent(t,"Scroll","20%",{nonInteraction:!0}),n[.2]=!0);break;case"0.4":n[.4]||(window.ga4SendWebEvent&&window.ga4SendWebEvent(t,"Scroll","40%",{nonInteraction:!0}),n[.4]=!0);break;case"0.6":n[.6]||(window.ga4SendWebEvent&&window.ga4SendWebEvent(t,"Scroll","60%",{nonInteraction:!0}),n[.6]=!0);break;case"0.8":n[.8]||(window.ga4SendWebEvent&&window.ga4SendWebEvent(t,"Scroll","80%",{nonInteraction:!0}),n[.8]=!0);break;case"1.0":n["1.0"]||(window.ga4SendWebEvent&&window.ga4SendWebEvent(t,"Scroll","100%",{nonInteraction:!0}),n["1.0"]=!0)}});var a={},o=new IntersectionObserver(function(e){var n=[];$(e).each(function(e,o){o.intersectionRatio>0&&(a[o.target.href]||(n.push({id:o.target.href.substring(o.target.href.indexOf("news/")+5,o.target.href.indexOf("/",o.target.href.indexOf("news/")+5)),name:"",list:t,category:"",variant:"",position:i.getPosition(o.target.href,i.newsAllMap)}),a[o.target.href]=!0))}),n.length>0&&i.sendNewsViewable(t,n)});$(".cg-newsWrapper").each(function(e,t){for(var n=$(t).find("a"),a=0;a<n.length;a++)if(n[a].href.indexOf("share.html")>0||n[a].href.indexOf("share_p.html")>0||n[a].href.indexOf("report.do")>0){i.newsAllMap.push(n[a].href),o.observe(n[a]);break}})},newsAllMap:[],getPosition:function(e,t){var i;return $(t).each(function(t,n){if(e==n)return i=t,!1}),i},ga4AnalyticTranslate:function(){$(".J_translate_share,.J_translate_m_share").bind("click",function(e){var t=$(e.target).data("ga");window.ga4SendWebEvent&&window.ga4SendWebEvent("ArticleDetailsPage","translate",t)})}}},{}],21:[function(e,t,i){arguments[4][16][0].apply(i,arguments)},{dup:16}]},{},[15]);